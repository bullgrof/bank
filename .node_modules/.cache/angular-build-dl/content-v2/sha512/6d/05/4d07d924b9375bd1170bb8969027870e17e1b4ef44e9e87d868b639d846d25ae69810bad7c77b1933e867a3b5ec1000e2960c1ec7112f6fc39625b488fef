{"version":3,"sources":["src/app/pages/register-user/register-user.page.html","src/app/pages/register-user/register-user.module.ts","src/app/pages/register-user/register-user.page.scss","src/app/pages/register-user/register-user.page.ts","src/app/services/tokens.service.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"warning\\\">\\r\\n    <ion-title>Registro</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-card class=\\\"card-middle\\\">\\r\\n    <ion-card-content>\\r\\n\\r\\n      <img src=\\\"../../../assets/usersekret.svg\\\"  height=\\\"100px\\\" alt=\\\"\\\">\\r\\n      \\r\\n      <form  (ngSubmit)=\\\"registerUser()\\\" #formuser=\\\"ngForm\\\" >\\r\\n        <ion-list>\\r\\n            <ion-row>\\r\\n                <ion-col size=\\\"9\\\">\\r\\n                    <ion-item>\\r\\n                        <ion-label position=\\\"floating\\\" required=\\\"true\\\">Token</ion-label>\\r\\n                        <ion-input type=\\\"text\\\"\\r\\n                                    name=\\\"idtoken\\\"\\r\\n                                   [(ngModel)]=\\\"users.idtoken\\\" \\r\\n                                   [value]=\\\"users.idtoken\\\"\\r\\n                                   required\\r\\n                                   max=\\\"20\\\"\\r\\n                                   (change)=\\\"verifyt(users.idtoken)\\\">\\r\\n                        </ion-input>           \\r\\n                    </ion-item>\\r\\n                </ion-col>\\r\\n              \\r\\n                <ion-col size=\\\"3\\\">\\r\\n                  <ion-tab-button (click)=\\\"scan()\\\" >\\r\\n                    <ion-icon name=\\\"barcode\\\"></ion-icon>\\r\\n                    <ion-label>Escannear</ion-label>\\r\\n                  </ion-tab-button>\\r\\n                </ion-col>\\r\\n            </ion-row>\\r\\n           \\r\\n            <ion-item>\\r\\n              <ion-label position=\\\"floating\\\" required=\\\"true\\\">Usuario</ion-label>\\r\\n              <ion-input type=\\\"text\\\"\\r\\n                          name=\\\"username\\\"\\r\\n                         [(ngModel)]=\\\"users.username\\\" \\r\\n                         (change)=\\\"verifyu(users.username)\\\"\\r\\n                         required>\\r\\n              </ion-input>           \\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" required=\\\"true\\\">Password</ion-label>\\r\\n                <ion-input type=\\\"password\\\"\\r\\n                            name=\\\"password\\\"\\r\\n                           [(ngModel)]=\\\"users.password\\\" \\r\\n                           required\\r\\n                           #input>\\r\\n                </ion-input>\\r\\n            </ion-item>\\r\\n\\r\\n            <ion-item>\\r\\n                <ion-label position=\\\"floating\\\" required=\\\"true\\\">Re-password</ion-label>\\r\\n                <ion-input type=\\\"password\\\"\\r\\n                            name=\\\"passwordv\\\"\\r\\n                           [(ngModel)]=\\\"users.passwordv\\\" \\r\\n                           required\\r\\n                           #input2\\r\\n                           (change)=\\\"passwordsmatch(users.password, users.passwordv)\\\">\\r\\n                </ion-input>               \\r\\n                \\r\\n            </ion-item>\\r\\n            <ion-item>\\r\\n                <label class=\\\"{{classpassinput}}\\\">{{passwordsnotmatch}}</label>\\r\\n            </ion-item>       \\r\\n            \\r\\n            <ion-item>\\r\\n              <ion-checkbox color=\\\"warning\\\"></ion-checkbox>\\r\\n              <label for=\\\"\\\">Acepto términos y condiciones.</label>\\r\\n            </ion-item>\\r\\n\\r\\n        \\r\\n        <ion-button expand=\\\"block\\\" \\r\\n        fill=\\\"outline\\\" \\r\\n                    type=\\\"submit\\\" \\r\\n                    [disabled]=\\\"formuser.invalid\\\"\\r\\n                    \\r\\n                    color=\\\"warning\\\">\\r\\n              <ion-icon name=\\\"log-in\\\" class=\\\"marginicon\\\"></ion-icon>   Registrarme\\r\\n        </ion-button>\\r\\n      </ion-list>\\r\\n\\r\\n      </form>\\r\\n             \\r\\n      \\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RegisterUserPage } from './register-user.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RegisterUserPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RegisterUserPage]\r\n})\r\nexport class RegisterUserPageModule {}\r\n","export default \"toolbar-title toolbar-title-ios {\\n  font-size: 1.7rem; }\\n\\ntoolbar-title toolbar-title-md {\\n  font-size: 2rem; }\\n\\ntoolbar-title toolbar-title-wp {\\n  font-size: 1.5rem; }\\n\\n.marginicon {\\n  margin-left: 3px; }\\n\\n.dontmatch {\\n  color: red;\\n  font-size: x-small;\\n  margin-top: 2px; }\\n\\n.match {\\n  color: greenyellow;\\n  font-size: x-small;\\n  margin-top: 2px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVnaXN0ZXItdXNlci9DOlxcVXNlcnNcXE5lbWVzc2lzXFxEZXNrdG9wXFxwdjJcXGZyb250XFxjb3JlXFxmc3Uvc3JjXFxhcHBcXHBhZ2VzXFxyZWdpc3Rlci11c2VyXFxyZWdpc3Rlci11c2VyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFpQixFQUFBOztBQUduQjtFQUNFLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxpQkFBaUIsRUFBQTs7QUFHbkI7RUFDRSxnQkFBZ0IsRUFBQTs7QUFHbEI7RUFDRSxVQUFVO0VBQ1Ysa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGVBQWUsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3JlZ2lzdGVyLXVzZXIvcmVnaXN0ZXItdXNlci5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0b29sYmFyLXRpdGxlIHRvb2xiYXItdGl0bGUtaW9zIHsgXHJcbiAgICBmb250LXNpemU6IDEuN3JlbTtcclxuICB9XHJcblxyXG4gIHRvb2xiYXItdGl0bGUgdG9vbGJhci10aXRsZS1tZCB7IFxyXG4gICAgZm9udC1zaXplOiAycmVtO1xyXG4gIH1cclxuXHJcbiAgdG9vbGJhci10aXRsZSB0b29sYmFyLXRpdGxlLXdwIHsgXHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICB9XHJcblxyXG4gIC5tYXJnaW5pY29ue1xyXG4gICAgbWFyZ2luLWxlZnQ6IDNweDtcclxuICB9XHJcblxyXG4gIC5kb250bWF0Y2h7XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgbWFyZ2luLXRvcDogMnB4O1xyXG4gIH1cclxuXHJcbiAgLm1hdGNoe1xyXG4gICAgY29sb3I6IGdyZWVueWVsbG93O1xyXG4gICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gICAgbWFyZ2luLXRvcDogMnB4O1xyXG59Il19 */\"","/*\r\nverifyt(): metodo que verifica los tockens al ingresarlo qeu si estan disponible\r\n*/\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\nimport { TokenService } from '../../services/tokens.service';\r\nimport { UsersService } from '../../services/users.service';\r\n\r\nimport { User } from '../../interfaces/userinterface';\r\nimport { NgForm } from '@angular/forms';\r\n\r\nimport { Router } from '@angular/router';\r\n//import { Format } from 'date-format';\r\nimport { DatePipe } from '@angular/common';\r\nimport { DateTime } from 'ionic-angular';\r\nimport {  MenuController } from '@ionic/angular';\r\nimport { PushService } from 'src/app/services/push.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-register-user',\r\n  templateUrl: './register-user.page.html',\r\n  styleUrls: ['./register-user.page.scss'],\r\n})\r\nexport class RegisterUserPage implements OnInit {\r\n\r\n  private tokeninput: string;\r\n  private classpassinput: string;\r\n  private passwordsnotmatch = '';\r\n\r\n  defaulvalue = 0;\r\n  idtoken : number = 4;\r\n\r\n  users  : any = {\r\n   username: '',\r\n   password: '',\r\n   secondpass: '',\r\n   expire_in: '',\r\n   notificationId : ''\r\n };\r\n\r\n  userRegister = {\r\n    username: '',\r\n    password: '',\r\n    idtoken: '',\r\n  };\r\n\r\n  userRegisterValid = {\r\n    username: 0 ,\r\n    password: 0,\r\n    idtoken:  0,\r\n  }\r\n\r\nverifyUser;\r\n respuesta = '';\r\n veryfytoken =  '';\r\n idplan;\r\n stateToken;\r\n timeToken;\r\n timTokenVar;\r\n objectToken:any;\r\n testing;\r\n  constructor(private  barcodeScanner: BarcodeScanner,\r\n              private tokenService : TokenService,\r\n              private toastCtrl: ToastController,\r\n              private userService : UsersService,\r\n              private router: Router,\r\n              private datePipe: DatePipe,\r\n              public menuCtrl: MenuController,\r\n              public pushService: PushService ) {    }\r\n\r\n  ngOnInit() {    \r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.menuCtrl.enable(false);\r\n  }\r\n  \r\n\r\n  async registerUser(formuser: NgForm){\r\n   // if ( formuser.invalid ){ return; }\r\n    let tokenResponse = this.verifyt(this.users.idtoken);  \r\n    console.log('******',this.userRegisterValid.idtoken);\r\n    this.timTokenVar = this.getDays(tokenResponse);\r\n    \r\n    let newDateExpire;\r\n    console.log('ARREGLO DE USUARIO: USUARIO', this.users.username);\r\n    console.log('ARREGLO DE USUARIO: iDTOKEN', this.users.idtoken);\r\n    console.log('ARREGLO DE USUARIO: PASSWORD', this.users.password);\r\n    console.log('ARREGLO DE USUARIO: EXPIREIN ', this.users.expire_in);\r\n    newDateExpire = this.timTokenVar;\r\n\r\n    var array_date = newDateExpire.split(\"/\");  //esta linea esta bien y te genera el arreglo\r\n    var year = parseInt(array_date[2]); \r\n    var month = parseInt(array_date[1]); \r\n    var day  = parseInt(array_date[0]); \r\n\r\n    var newFormatDate = year + '-' + month + '-' + day \r\n    var newDate = this.datePipe.transform(newFormatDate, \"yyyy-MM-dd, h:mm a\");\r\n    console.log('YYYYYYYYYYYYYYYY', newDate);\r\n    //console.log('ARREGLO DE USUARIO', newFormatDate);\r\n    \r\n  this.users = {\r\n    username: this.users.username,\r\n    password: this.users.password,\r\n    secondpass: '',\r\n    expire_in: newDate,\r\n    notificationId: this.pushService.getuserIdOneSignal()\r\n  };\r\n  console.log('++++++++++++++',this.users);\r\n    const valid = await this.userService.registrarUsuario(this.users);\r\n\r\n    this.presentToast('Usuario registrado');\r\n    this.users.username = '';\r\n    this.users.password = '';\r\n    this.users.token = '';\r\n    this.users.passwordv = '';\r\n    //console.log('validacion de usuario : ', valid); \r\n  }\r\n\r\n  async presentToast(message: string) {\r\n    const toast = await this.toastCtrl.create({\r\n      message,\r\n      duration: 2000,\r\n      position: 'top'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  verifyt(token?) {\r\n    //console.log('Ingresa por revision: ', token);\r\n    let characters = token.length;\r\n    if (characters === 20) {      \r\n      this.tokenService.getVerifyToken(token).subscribe(resp => {\r\n        console.log('resp token', resp);\r\n        if (resp.tokens[0].token != null && resp.tokens[0].state === '1') {\r\n          this.idplan = resp.tokens[0].idplan;\r\n          this.presentToast('El tocken se encuentra disponible');\r\n          this.getDays(this.idplan);\r\n        } else {\r\n          this.userRegisterValid.idtoken = 1;\r\n          this.presentToast('El tocken No esta disponible');\r\n          this.idplan = 1010;\r\n        }\r\n      });\r\n    }else{\r\n      this.presentToast('El tocken No esta registrado');\r\n      this.userRegisterValid.idtoken = 1;\r\n    }\r\n    return this.idplan;\r\n  }\r\n\r\n  getDays(idplan) {\r\n    let idplanToService = idplan;\r\n    //console.log('IDPLAN TO SEARCH', idplanToService)\r\n    this.tokenService.getRemainingDays(idplan).subscribe(resp => {\r\n      console.log('PLAN AL QUE PERTENECE', resp);\r\n\r\n      console.log('DIAS DEL PLAN', resp.plans[0].timetoexpire);\r\n      this.timeToken = resp.plans[0].timetoexpire;\r\n\r\n      var hoy = new Date();\r\n      var devolucion = new Date();\r\n      \r\n      devolucion.setDate(hoy.getDate() + this.timeToken);\r\n      console.log('FECHA ACTUAL', Date());\r\n      this.testing =  devolucion.toLocaleDateString();\r\n      \r\n    });\r\n\r\n    return this.testing;\r\n  }\r\n\r\n  onSubmitUserCreate(){\r\n    console.log(\"paso\");\r\n    console.log(this.users);\r\n  }\r\n\r\n  scan() {\r\n    this.barcodeScanner.scan().then(barcodeData => {\r\n      //console.log('Barcode data', barcodeData);\r\n      this.users.idtoken = barcodeData.text;\r\n    }).catch(err => {\r\n      console.log('Error', err);\r\n    });\r\n  }\r\n\r\n   passwordsmatch(pass1, pass2){\r\n    console.log('passoword 1',pass1);\r\n     console.log('passoword 2',pass2);\r\n    if (pass1 === pass2) {\r\n      this.passwordsnotmatch = 'Correcto';\r\n      this.classpassinput = 'match'\r\n      this.userRegisterValid.password = 0;\r\n     }else{\r\n      this.passwordsnotmatch = 'Las contraseñas no coinciden';\r\n      this.classpassinput = 'dontmatch'\r\n      this.userRegisterValid.password = 1;\r\n     }\r\n   \r\n   }\r\n\r\n   verifyu(user){\r\n    this.userService.getVerifyUser(user).subscribe(response => {\r\n      this.verifyUser = response.user[0];\r\n      console.log('+++++++++++', this.verifyUser);\r\n      if ( !this.verifyUser ) {\r\n        this.presentToast('Usuario disponible');\r\n      }else{\r\n        this.presentToast('Usuario no disponible');\r\n      }\r\n    })\r\n   }\r\n\r\n\r\n\r\n   \r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { responseToken, responsePlan } from '../interfaces/interfaces';\r\nimport { Router } from '@angular/router';\r\n\r\nconst URL = environment.url;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TokenService {\r\n\r\n  tokensearch = 0;\r\n  timeToExpire: any ;\r\n\r\n  constructor( private http: HttpClient,\r\n    private router: Router ) { }\r\n\r\n  getVerifyToken(tokens){\r\n    \r\n   return  this.http.get<responseToken>(`${ URL }/token?tokenid=${ tokens }`);\r\n  }\r\n\r\n  getRemainingDays(idplan){\r\n    const data = idplan;\r\n   // console.log('************************',data);   \r\n   return  this.http.get<responsePlan>(`${ URL }/plan/id?idplan=${idplan}`);\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"pages-register-user-register-user-module-es5.js"}