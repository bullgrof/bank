{"version":3,"sources":["./src/app/pages/chat-group/chat-group.page.html","./src/app/pages/chat-group/chat-group.module.ts","./src/app/pages/chat-group/chat-group.page.scss","./src/app/pages/chat-group/chat-group.page.ts"],"names":[],"mappings":"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","file":"pages-chat-group-chat-group-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"warning\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <!--ion-button (click)=\\\"navigate()\\\"-->\\r\\n      <ion-button [routerLink]=\\\"['/groups']\\\">\\r\\n        <ion-icon src=\\\"assets/icons/arrow-back.svg\\\"></ion-icon>\\r\\n      </ion-button>     \\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-buttons class=\\\"buttonmiddle\\\">\\r\\n      <ion-avatar slot=\\\"\\\" color=\\\"warning\\\">\\r\\n        <img src=\\\"../../../assets/avatars/group.png\\\" class=\\\"avatar11\\\">\\r\\n      </ion-avatar>\\r\\n      <label class=\\\"username1\\\">  {{nameGroup}}   </label>\\r\\n    </ion-buttons>\\r\\n    \\r\\n    <ion-buttons slot=\\\"primary\\\">      \\r\\n      <ion-button color=\\\"danger\\\" (click)=\\\"logout()\\\">        \\r\\n        <ion-icon slot=\\\"end\\\" ios=\\\"power\\\" md=\\\"power\\\" color=\\\"white\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content  #scrollElement class=\\\"ion-padding\\\" [scrollEvents]=\\\"true\\\">\\r\\n \\r\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\" color=\\\"warning\\\" *ngIf=\\\"planActive === 'Plan Plus'\\\">\\r\\n\\r\\n    <ion-fab-button class=\\\"ios ion-activatable ion-focusable hydrated\\\" color=\\\"warning\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n    <ion-fab-list side=\\\"\\\">\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Administrar\\\" [routerLink]=\\\"['/admingroups', idg]\\\">\\r\\n        <ion-icon name=\\\"settings-outline\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo facebook\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Cámara\\\" (click)=\\\"captureImage()\\\">\\r\\n        <ion-icon name=\\\"camera\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo facebook\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Galería\\\" (click)=\\\"imageGallery()\\\">\\r\\n        <ion-icon name=\\\"image\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo twitter\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <!--ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Enviar al Baúl\\\" (click)=\\\"sendTrunk()\\\">\\r\\n        <ion-icon name=\\\"lock-closed\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo twitter\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Eliminar mensajes\\\" (click)=\\\"deleteMeessages()\\\">\\r\\n        <ion-icon name=\\\"trash\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo vimeo\\\"></ion-icon>\\r\\n      </ion-fab-button-->\\r\\n      \\r\\n\\r\\n\\r\\n    </ion-fab-list>\\r\\n  </ion-fab>\\r\\n\\r\\n\\r\\n\\r\\n  <ion-row *ngFor=\\\"let message of messages; let i = index\\\" >\\r\\n\\r\\n    <ion-col size=\\\"9\\\" *ngIf=\\\"message.senderId !== userId && message.type === '2' && message.body !== ''\\\" class=\\\"message other-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <span class=\\\"msg\\\"> {{ decrypt(message.body) }} </span>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"9\\\" offset=\\\"3\\\" *ngIf=\\\"message.senderId === userId && message.type === '2'\\\" class=\\\"message my-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <span> {{ decrypt(message.body) }} </span>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"11\\\" *ngIf=\\\"message.senderId !== userId && message.type === '3'\\\" class=\\\"message other-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div> \\r\\n      <ion-img [src]=\\\"message.body | image\\\" (click)=\\\"openGallery(message.body)\\\"></ion-img>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"11\\\" offset=\\\"1\\\" *ngIf=\\\"message.senderId === userId && message.type === '3'\\\" class=\\\"message my-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <ion-img [src]=\\\"message.body | image\\\" (click)=\\\"openGallery(message.body)\\\"></ion-img>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short'}} </div>   \\r\\n    </ion-col>\\r\\n\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer color=\\\"warning\\\">\\r\\n  <ion-toolbar color=\\\"light\\\">\\r\\n    <ion-row class=\\\"align-items-center\\\">\\r\\n    <ion-col size=\\\"10\\\">\\r\\n        <ion-textarea auto-grow class=\\\"message-input\\\" rows=\\\"1\\\" [(ngModel)]=\\\"message\\\" ></ion-textarea><!--(click)=\\\"activeTape()\\\"-->\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"warning\\\" [disabled]=\\\"message === ''\\\" class=\\\"msg-btn\\\"\\r\\n          (click)=\\\"sendMessage()\\\">\\r\\n          <ion-icon name=\\\"send-outline\\\" slot=\\\"icon-only\\\" class=\\\"boton-send\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChatGroupPage } from './chat-group.page';\r\n\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChatGroupPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    PipesModule\r\n  ],\r\n  declarations: [ChatGroupPage]\r\n})\r\nexport class ChatGroupPageModule {}\r\n","export default \".message-input {\\n  margin-top: 0px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff;\\n}\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em;\\n}\\n\\n.message {\\n  padding: 10px;\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap;\\n}\\n\\n.my-message {\\n  background: #dddbdb;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid;\\n}\\n\\n.other-message {\\n  background: #ffffff;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid;\\n}\\n\\n.username {\\n  font-size: small;\\n  margin-left: 7px;\\n}\\n\\n.decode {\\n  color: #dfdfdf;\\n  float: right;\\n  font-size: 10px;\\n}\\n\\n.text-right {\\n  color: #000000;\\n}\\n\\n.mess {\\n  color: #000000;\\n  font-size: 10px;\\n  margin-top: 3px;\\n}\\n\\n.avatar11 {\\n  width: 43px;\\n  height: 43px;\\n  margin-top: 13px;\\n}\\n\\nion-fab-button[data-desc] {\\n  position: relative;\\n}\\n\\nion-fab-button[data-desc]::after {\\n  position: absolute;\\n  content: attr(data-desc);\\n  z-index: 1;\\n  right: 55px;\\n  bottom: 4px;\\n  background-color: var(--ion-color-dark);\\n  padding: 9px;\\n  border-radius: 15px;\\n  color: white;\\n  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);\\n}\\n\\n.msg {\\n  white-space: pre-wrap !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC1ncm91cC9DOlxcVXNlcnNcXE5lbWVzc2lzXFxEZXNrdG9wXFxmc3UgLSBDb3B5L3NyY1xcYXBwXFxwYWdlc1xcY2hhdC1ncm91cFxcY2hhdC1ncm91cC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NoYXQtZ3JvdXAvY2hhdC1ncm91cC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxlQUFBO0VBQ0EseUNBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUU7RUFDRSxzQkFBQTtFQUNBLG9CQUFBO0FDQ0o7O0FER0U7RUFDRSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FDQUo7O0FER0U7RUFDRSxtQkFBQTtFQUNBLGNBQUE7RUFFQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNESjs7QURLRTtFQUNFLG1CQUFBO0VBQ0EsY0FBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQ0ZKOztBRE1FO0VBQ0UsZ0JBQUE7RUFDQSxnQkFBQTtBQ0hKOztBRE1BO0VBQ0UsY0FBQTtFQUNBLFlBQUE7RUFDQSxlQUFBO0FDSEY7O0FETUE7RUFDRSxjQUFBO0FDSEY7O0FETUE7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUNIRjs7QURNQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNIRjs7QURPQTtFQUNFLGtCQUFBO0FDSkY7O0FET0E7RUFDRSxrQkFBQTtFQUNBLHdCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsdUNBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsaUhBQUE7QUNKRjs7QURPQTtFQUNFLGdDQUFBO0FDSkYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jaGF0LWdyb3VwL2NoYXQtZ3JvdXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lc3NhZ2UtaW5wdXQge1xyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICB9XHJcblxyXG4gIC5tc2ctYnRuIHtcclxuICAgIC0tcGFkZGluZy1zdGFydDogMC41ZW07XHJcbiAgICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcclxuICB9XHJcblxyXG5cclxuICAubWVzc2FnZSB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDRweDtcclxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICB9XHJcblxyXG4gIC5teS1tZXNzYWdlIHtcclxuICAgIGJhY2tncm91bmQ6ICNkZGRiZGI7XHJcbiAgICBjb2xvcjogIzAwMDAwMDtcclxuXHJcbiAgICBib3JkZXItY29sb3I6ICNjMGMwYzA7XHJcbiAgICBib3JkZXItd2lkdGg6IHRoaW47XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gIFxyXG4gIH1cclxuICAgXHJcbiAgLm90aGVyLW1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjYzBjMGMwO1xyXG4gICAgYm9yZGVyLXdpZHRoOiB0aGluO1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuXHJcbiAgfVxyXG5cclxuICAudXNlcm5hbWV7XHJcbiAgICBmb250LXNpemU6IHNtYWxsO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDdweDtcclxufVxyXG5cclxuLmRlY29kZSB7XHJcbiAgY29sb3I6ICNkZmRmZGY7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuLnRleHQtcmlnaHR7XHJcbiAgY29sb3I6ICMwMDAwMDA7XHJcbn1cclxuXHJcbi5tZXNze1xyXG4gIGNvbG9yOiAjMDAwMDAwO1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBtYXJnaW4tdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5hdmF0YXIxMXtcclxuICB3aWR0aDogNDNweDtcclxuICBoZWlnaHQ6IDQzcHg7XHJcbiAgbWFyZ2luLXRvcDogMTNweDtcclxufVxyXG5cclxuXHJcbmlvbi1mYWItYnV0dG9uW2RhdGEtZGVzY10ge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuaW9uLWZhYi1idXR0b25bZGF0YS1kZXNjXTo6YWZ0ZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBjb250ZW50OiBhdHRyKGRhdGEtZGVzYyk7XHJcbiAgei1pbmRleDogMTtcclxuICByaWdodDogNTVweDtcclxuICBib3R0b206IDRweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbiAgcGFkZGluZzogOXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJveC1zaGFkb3c6IDAgM3B4IDVweCAtMXB4IHJnYmEoMCwwLDAsMC4yKSwgMCA2cHggMTBweCAwIHJnYmEoMCwwLDAsMC4xNCksIDAgMXB4IDE4cHggMCByZ2JhKDAsMCwwLDAuMTIpO1xyXG59XHJcblxyXG4ubXNne1xyXG4gIHdoaXRlLXNwYWNlOiBwcmUtd3JhcCFpbXBvcnRhbnQ7XHJcbn0iLCIubWVzc2FnZS1pbnB1dCB7XG4gIG1hcmdpbi10b3A6IDBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJhY2tncm91bmQ6ICNmZmY7XG59XG5cbi5tc2ctYnRuIHtcbiAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcbiAgLS1wYWRkaW5nLWVuZDogMC41ZW07XG59XG5cbi5tZXNzYWdlIHtcbiAgcGFkZGluZzogMTBweDtcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG59XG5cbi5teS1tZXNzYWdlIHtcbiAgYmFja2dyb3VuZDogI2RkZGJkYjtcbiAgY29sb3I6ICMwMDAwMDA7XG4gIGJvcmRlci1jb2xvcjogI2MwYzBjMDtcbiAgYm9yZGVyLXdpZHRoOiB0aGluO1xuICBib3JkZXItc3R5bGU6IHNvbGlkO1xufVxuXG4ub3RoZXItbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIGNvbG9yOiAjMDAwMDAwO1xuICBib3JkZXItY29sb3I6ICNjMGMwYzA7XG4gIGJvcmRlci13aWR0aDogdGhpbjtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbn1cblxuLnVzZXJuYW1lIHtcbiAgZm9udC1zaXplOiBzbWFsbDtcbiAgbWFyZ2luLWxlZnQ6IDdweDtcbn1cblxuLmRlY29kZSB7XG4gIGNvbG9yOiAjZGZkZmRmO1xuICBmbG9hdDogcmlnaHQ7XG4gIGZvbnQtc2l6ZTogMTBweDtcbn1cblxuLnRleHQtcmlnaHQge1xuICBjb2xvcjogIzAwMDAwMDtcbn1cblxuLm1lc3Mge1xuICBjb2xvcjogIzAwMDAwMDtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBtYXJnaW4tdG9wOiAzcHg7XG59XG5cbi5hdmF0YXIxMSB7XG4gIHdpZHRoOiA0M3B4O1xuICBoZWlnaHQ6IDQzcHg7XG4gIG1hcmdpbi10b3A6IDEzcHg7XG59XG5cbmlvbi1mYWItYnV0dG9uW2RhdGEtZGVzY10ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG5cbmlvbi1mYWItYnV0dG9uW2RhdGEtZGVzY106OmFmdGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBjb250ZW50OiBhdHRyKGRhdGEtZGVzYyk7XG4gIHotaW5kZXg6IDE7XG4gIHJpZ2h0OiA1NXB4O1xuICBib3R0b206IDRweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICBwYWRkaW5nOiA5cHg7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm94LXNoYWRvdzogMCAzcHggNXB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDZweCAxMHB4IDAgcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCAxcHggMThweCAwIHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbi5tc2cge1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXAgIWltcG9ydGFudDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, ChildActivationStart, Router } from '@angular/router';\r\nimport { ChatGroupService } from '../../services/chat-group.service';\r\nimport * as utf8 from 'crypto-js/enc-utf8';\r\nimport * as AES from 'crypto-js/aes';\r\nimport { AES256 } from '@ionic-native/aes-256/ngx';\r\nimport { Storage } from '@ionic/storage';\r\nimport { UsersService } from '../../services/users.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { IonContent } from '@ionic/angular';\r\nimport { File, FileEntry } from '@ionic-native/File/ngx';\r\n\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { PushService } from 'src/app/services/push.service';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ToastController, Platform, IonRange } from '@ionic/angular';\r\nimport { ActionSheetController, NavController, ModalController } from '@ionic/angular';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\n\r\nimport { ImageModalPage } from '../image-modal/image-modal.page';\r\n\r\ndeclare var window;\r\nconst STORAGE_KEY = 'my_images';\r\n\r\n@Component({\r\n  selector: 'app-chat-group',\r\n  templateUrl: './chat-group.page.html',\r\n  styleUrls: ['./chat-group.page.scss'],\r\n})\r\nexport class ChatGroupPage implements OnInit {\r\n\r\n  @ViewChild('scrollElement', { static: false }) content: IonContent;\r\n  idgroup;\r\n  nameGroup;\r\n  usernameStorage;\r\n  userId;\r\n  nameUser;\r\n  participants ;\r\n  idg;\r\n  // MESAGE vars\r\n  message = '';\r\n  arrmsgs;\r\n  messages = [];\r\n  pa = []\r\n groupNotificate = {\r\n    participants : [],\r\n    sender: ''\r\n}\r\n  //cipher\r\n  cipher;\r\n  skey: string = environment.sekretKey;\r\n  sh1 = '123456789abcdefghijklmnopqrstuuvwxyz';\r\n  cipherMessage;\r\n  secureKEY;\r\n  secureIV;\r\n  decodedMessage;\r\n\r\n//socket\r\nskem;\r\nsocketIn;\r\nshow = true;\r\n//Media\r\nswcamera;\r\ndataResFiles: any = [];\r\nfpath\r\nresult22;\r\nimages = [];\r\nplanActive;\r\n//push\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private socket: Socket,\r\n    private groupService: ChatGroupService,\r\n    private storage: Storage,\r\n    private userService: UsersService,\r\n    private aes256: AES256,\r\n    private cameranew: Camera,\r\n    private file: File,\r\n    private pushService: PushService,\r\n    private chatService: ChatService,\r\n    private toastCtrl: ToastController,\r\n    private modalCtrl: ModalController,\r\n    private webview: WebView,\r\n    private router: Router,\r\n    private platform: Platform,) { }\r\n\r\n  ngOnInit() {\r\n    this.socket.connect();    \r\n  }\r\n\r\n  ionViewWillEnter(){\r\n    this.idgroup = this.activatedRoute.snapshot.paramMap.get('idgroup');\r\n    this.getMessages(this.idgroup);\r\n    window.menu.ngOnInit();\r\n    this.storage.get('username').then((result) => {\r\n      this.usernameStorage = result;\r\n\r\n      this.userService.getSekretId(this.usernameStorage).subscribe(response => {\r\n        this.userId = response.user[0]._id;\r\n        this.nameUser = response.user[0].username;\r\n        this.planActive = response.user[0].plan;\r\n        this.updateReadMessage();\r\n        console.log('<<<<<<<[Plan Active]>>>>>>', this.planActive); \r\n      })\r\n    })\r\n    \r\n    this.platform.ready().then(() => {\r\n     // this.qrScanner.hide();\r\n\r\n      this.platform.pause.subscribe(() => {\r\n        console.log(\"[INFO] PAUSE\");\r\n      });\r\n\r\n      this.platform.resume.subscribe(() => {\r\n        console.log('[INFO] RESUME');\r\n        this.storage.get('stateCamera').then((result) => {\r\n          console.log('[INFO] STATE CAMERA : ', result);\r\n          if (result === 1) {\r\n            console.log('[INFO]: Se esta usando la camara NO CERRAR');\r\n            this.userService.saveStateCamera(0);\r\n          } else {\r\n            console.log('[INFO]: Mandar al Login');\r\n            this.logout();\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    this.skem = {\r\n      convId : this.idgroup,\r\n      msg: '',\r\n      type: \"2\",\r\n      senderId: \"asdasdasdasdas\",\r\n      secureKey: '',\r\n      secureIv :  '',\r\n      username : ''\r\n    }\r\n    //console.log('MENSAJE PARA EL SOCKET',this.skem)\r\n    this.socket.emit('joinGroup', { msg : this.skem });  \r\n\r\n    this.socket.fromEvent('messageG').subscribe( message => {\r\n      this.socketIn = message;\r\n     // console.log('NEW MESSAGE', this.socketIn);\r\n      if (this.socketIn.msg.senderId !== this.userId) {\r\n       // console.log('NEW MESSAGE', this.socketIn);\r\n        const msgIn = {\r\n          body: this.socketIn.msg.msg,\r\n          createAt: Date.now(),\r\n          isread: \"0\",\r\n          senderId: this.socketIn.msg.senderId,\r\n          type: this.socketIn.msg.type,\r\n          username: this.socketIn.msg.username,\r\n          _id: \"5f6c52708705a704b4a5159d\"\r\n        }\r\n        this.messages.push( msgIn )\r\n      } else\r\n      {\r\n        const msgIn = {\r\n          body: this.socketIn.msg.msg,\r\n          createAt: Date.now(),\r\n          isread: \"0\",\r\n          senderId: this.socketIn.msg.senderId,\r\n          type: this.socketIn.msg.type,\r\n          username: this.socketIn.msg.username,\r\n          _id: \"5f6c52708705a704b4a5159d\"\r\n        }\r\n        this.messages.push( msgIn )\r\n      }  \r\n      this.scrollToBottomInChat();\r\n    })\r\n\r\n    this.generateSecureKeyAndIV();\r\n    this.getInfoGroup(this.idgroup);\r\n    //this.getMessages(this.idgroup);\r\n    this.getUsername('5f61e188a23a3346ecac036b');    \r\n  }\r\n\r\n\r\n  getInfoGroup(idgroup) {\r\n    this.groupService.getInfoGroup(idgroup).subscribe(response => {\r\n      this.nameGroup = response.chatGroup[0].groupname;\r\n      console.log('[INFOOOO] XXXXXXXXX', response);\r\n      this.participants = response.chatGroup[0].participants;\r\n      this.idg = response.chatGroup[0]._id;           \r\n    })\r\n  }\r\n\r\n  getMessages(idgroup){\r\n    setTimeout(() => {\r\n      this.groupService.getMessages(idgroup).subscribe(resp => {\r\n        //console.log('INFO RESPUESTA MENSAJES', resp);\r\n        this.arrmsgs = resp.msg;\r\n        this.messages = this.arrmsgs[0].message;      \r\n        this.scrollToBottomInChat();\r\n      })  \r\n    }, 1500);\r\n    \r\n  }\r\n\r\n  sendMessage(){\r\n    let msgInput = this.message;\r\n    this.cipherMessage = this.encrypt(msgInput);\r\n    const msg1 = {\r\n      \"idGroup\" : this.idgroup,\r\n      \"message\" :{\r\n          \"senderId\" :  this.userId,\r\n          \"body\"     :  this.cipherMessage,\r\n          \"type\"     :  \"2\",\r\n          \"secureKey\": this.secureKEY,\r\n          \"secureIv\" :  this.secureIV,\r\n          \"username\" : this.nameUser\r\n      }\r\n  }\r\n    this.skem = {\r\n      convId : this.idgroup,\r\n      msg: this.cipherMessage,\r\n      type: \"2\",\r\n      senderId: this.userId,\r\n      secureKey: this.secureKEY,\r\n      secureIv :  this.secureIV,\r\n      username : this.nameUser\r\n    }\r\n    this.socket.emit('joinGroup', { msg : this.skem });\r\n    this.groupService.postSendMessage( msg1 ).subscribe(resp => {\r\n    //  console.log('[INFO] MENSJAE ENVIADO: ', resp);\r\n    })\r\n\r\n    this.groupService.getIdNotificationsPar(this.participants, this.userId).subscribe(responseParticipants => {\r\n      this.groupNotificate = {\r\n          participants : responseParticipants.arrNotIds,\r\n          sender: this.userId\r\n      }\r\n      this.pushService.sendPushNotificationGroupNew(this.groupNotificate).subscribe(responsea =>{\r\n          console.log('RESPUESTA PUSH NOTIFICATION', responsea);\r\n        })\r\n    })\r\n    this.updateUsersGroup(this.idgroup, this.participants);\r\n    this.message = ''\r\n  }\r\n\r\n  encrypt(data) {\r\n    this.cipher = AES.encrypt(JSON.stringify(data), this.sh1).toString();\r\n    return this.cipher;\r\n  }\r\n\r\n  async generateSecureKeyAndIV() {\r\n    this.secureKEY = await this.aes256.generateSecureKey(this.skey); // Returns a 32 bytes string\r\n    this.secureIV = await this.aes256.generateSecureIV(this.skey); // Returns a 16 bytes string\r\n  }\r\n\r\n  decrypt(encryptedData) {\r\n    this.decodedMessage = AES.decrypt(encryptedData, this.sh1).toString(utf8);\r\n    let obj = JSON.parse(this.decodedMessage.toString())\r\n    return obj;\r\n  }\r\n\r\n\r\n  getInfoUser(){\r\n    this.storage.get('username').then((result) => {\r\n      this.usernameStorage = result;\r\n      this.userService.getSekretId(this.usernameStorage).subscribe(response => {\r\n        this.userId = response.user[0].sekretid;\r\n      })\r\n    })\r\n  }\r\n\r\n  getUsername(idUserPart){\r\n    this.userService.getusernameById(idUserPart).subscribe(resp => {\r\n     // console.log('[INFO] RESPUESTA DEL USUARIO aaa',resp.user[0])\r\n    })\r\n     let name = '1'\r\n    return name\r\n  }\r\n\r\n  reload() {\r\n    this.show = false;\r\n    setTimeout(() => this.show = true);\r\n  }\r\n\r\n  scrollToBottomInChat() {\r\n    setTimeout(() => {\r\n      if (this.content.scrollToBottom) {\r\n        this.content.scrollToBottom(100);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\ncaptureImage() {\r\n    this.swcamera = 1;\r\n    console.log(\"?? Accediendo a la camara\")\r\n    //this.swcamera = 1;\r\n    this.userService.saveStateCamera(this.swcamera);\r\n    let sourceType = this.cameranew.PictureSourceType.CAMERA\r\n    var options: CameraOptions = {\r\n      quality: 50,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true\r\n    };\r\n\r\n    this.cameranew.getPicture(options).then(imagePath => {\r\n      var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\r\n      var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);    \r\n      this.copytoNew(correctPath, currentName);\r\n    });\r\n    this.swcamera = '';\r\n  } //end capture Imnage\r\n\r\n  async copytoNew(path, namePic) {\r\n  \r\n    let rs;\r\n    let fP;\r\n    fP = path + namePic;\r\n    this.dataResFiles = await this.upImage(fP);\r\n    if (this.dataResFiles === '') {\r\n      setTimeout(() => {\r\n       \r\n        rs = this.dataResFiles.name;\r\n        this.sendMessageImage(this.dataResFiles.name);\r\n      }, 1000);\r\n    } else {\r\n      console.log('paso al ELSE')\r\n      this.sendMessageImage(this.dataResFiles.name);\r\n      rs = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(fP, namePic);\r\n    }\r\n  }  // END COPU TO NEW\r\n\r\n  sendMessageImage(image) {\r\n    let imageRecive = image;\r\n\r\n    const msg1 = {\r\n      \"idGroup\" : this.idgroup,\r\n      \"message\" :{\r\n          \"senderId\" :  this.userId,\r\n          \"body\"     :  imageRecive,\r\n          \"type\"     :  \"3\",  //Image\r\n          \"secureKey\": this.secureKEY,\r\n          \"secureIv\" :  this.secureIV,\r\n          \"username\" : this.nameUser\r\n      }\r\n  }\r\n\r\n  this.groupService.postSendMessage( msg1 ).subscribe(resp => {\r\n    //console.log('[INFO] MENSJAE ENVIADO: ', resp);\r\n  })\r\n\r\n  this.skem = {\r\n    convId : this.idgroup,\r\n    msg: imageRecive,\r\n    type: \"3\", // Image\r\n    senderId: this.userId,\r\n    secureKey: this.secureKEY,\r\n    secureIv :  this.secureIV,\r\n    username : this.nameUser\r\n  }\r\n\r\n  this.socket.emit('joinGroup', { msg : this.skem });\r\n  this.groupService.getIdNotificationsPar(this.participants, this.userId).subscribe(responseParticipants => {\r\n    this.groupNotificate = {\r\n        participants : responseParticipants.arrNotIds,\r\n        sender: this.userId\r\n    }\r\n    this.pushService.sendPushNotificationGroupNew(this.groupNotificate).subscribe(responsea =>{\r\n        console.log('RESPUESTA PUSH NOTIFICATION', responsea);\r\n      })\r\n  })\r\n\r\n    this.message = '';\r\n\r\n  }\r\n\r\n  async upImage(file) {\r\n    let imageSennder = file;\r\n    let resultImageSender;\r\n    if (file != null) {\r\n      //send message was photo     \r\n      resultImageSender = await this.chatService.uploadimage(imageSennder);\r\n    } else {\r\n      this.showToast('se ha encontrado algun error');\r\n    }\r\n    return resultImageSender;\r\n  }\r\n\r\n  async showToast(msg) {\r\n    let toast = await this.toastCtrl.create({\r\n      message: msg,\r\n      position: 'middle',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  openGallery(imagensend) {\r\n    this.modalCtrl.create({\r\n      component: ImageModalPage,\r\n      componentProps: {\r\n        img: imagensend\r\n      }\r\n    }).then(modal => modal.present());\r\n  }\r\n\r\n  imageGallery() {\r\n    this.swcamera = 1;\r\n    this.userService.saveStateCamera(1);\r\n  //  console.log('[INFO] Paso a la galeria');\r\n\r\n    let sourceType = this.cameranew.PictureSourceType.PHOTOLIBRARY;\r\n    var options: CameraOptions = {\r\n      quality: 50,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true\r\n    };\r\n\r\n    this.cameranew.getPicture(options).then(imagePath => {\r\n      var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\r\n      var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\r\n      //this.copyFileToLocalDir2(correctPath, currentName, this.createFileName());\r\n      //this.copyFileToLocalDir(correctPath, currentName);\r\n      // var pth = window.Ionic.WebView.convertFileSrc(imagePath)\r\n      //console.log('[YYYY]',pth);\r\n      // var tmp = currentName.split('?');\r\n      //currentName = tmp[0];\r\n     // console.log('[INFO New] : ', currentName);\r\n      this.copytoNew2(correctPath, currentName);\r\n     // console.log('CORRECT PATH', correctPath); 2\r\n     // console.log('CURRENT NAME', currentName);\r\n    });\r\n  }\r\n\r\n  async copyFileToLocalDir2(namePath, currentName, newFileName) {\r\n    this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\r\n      this.updateStoredImages(newFileName);\r\n      this.fpath = namePath + currentName;\r\n      this.dataResFiles = this.upImage(this.fpath);\r\n      this.result22 = this.dataResFiles.name;\r\n\r\n      if (this.result22 === '') {\r\n        setTimeout(() => {\r\n          console.log('paso aqui');\r\n          this.result22 = this.dataResFiles.name;\r\n          this.sendMessageImage(this.result22);\r\n        }, 1000);\r\n\r\n\r\n      } else {\r\n        console.log('=========paso por el otro')\r\n        this.sendMessageImage(this.result22);\r\n        this.file.removeFile(namePath, currentName);\r\n      }\r\n    }, error => {\r\n      //this.presentToast('Error while storing file.');\r\n      console.log('Error while storing file.');\r\n    });\r\n  }\r\n\r\n  async copyFileToLocalDir(fullPath, namePic?) {\r\n   // console.log(\"PASO\");\r\n   // console.log('INGRESA', fullPath, 'name pic', namePic);\r\n    let myPath = fullPath;\r\n    let result;\r\n    let im, ph;\r\n    // Make sure we copy from the right location\r\n    if (fullPath.indexOf('file://') < 0) {\r\n      myPath = 'file://' + fullPath;\r\n     // console.log('//////////////////', myPath);\r\n    }\r\n\r\n    this.dataResFiles = await this.upImage(myPath);\r\n    result = this.dataResFiles.name;\r\n\r\n    if (result === '') {\r\n      setTimeout(() => {\r\n        result = this.dataResFiles.name;\r\n        this.sendMessageImage(result);\r\n      }, 1000);\r\n    } else {\r\n      this.sendMessageImage(result);\r\n      ph = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(ph, namePic);\r\n    }\r\n  }\r\n\r\n  async copytoNew2(path, namePic) {\r\n   // console.log('paso al metodo copiar  nuevo');\r\n    let fP;\r\n    let rs;\r\n    //console.log('PATH', path, 'PICCCCC', namePic);\r\n    fP = path + namePic;\r\n    this.dataResFiles = await this.upImage(fP);\r\n    //console.log('image upload******', this.dataResFiles.name);\r\n\r\n    if (this.dataResFiles === '') {\r\n      setTimeout(() => {\r\n     \r\n        rs = this.dataResFiles.name;\r\n        this.sendMessageImage(this.dataResFiles.name);\r\n      }, 1000);\r\n    } else {\r\n     \r\n      this.sendMessageImage(this.dataResFiles.name);\r\n      rs = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(fP, namePic);\r\n    }\r\n  }\r\n\r\n  \r\n  createFileName() {\r\n    var d = new Date(),\r\n      n = d.getTime(),\r\n      newFileName = n + \".jpg\";\r\n    return newFileName;\r\n  }\r\n\r\n  updateStoredImages(name) {\r\n    this.storage.get(STORAGE_KEY).then(images => {\r\n      let arr = JSON.parse(images);\r\n      if (!arr) {\r\n        let newImages = [name];\r\n        this.storage.set(STORAGE_KEY, JSON.stringify(newImages));\r\n      } else {\r\n        arr.push(name);\r\n        this.storage.set(STORAGE_KEY, JSON.stringify(arr));\r\n      }\r\n\r\n      let filePath = this.file.dataDirectory + name;\r\n      let resPath = this.pathForImage(filePath);\r\n\r\n      let newEntry = {\r\n        name: name,\r\n        path: resPath,\r\n        filePath: filePath\r\n      };\r\n\r\n      this.images = [newEntry, ...this.images];\r\n\r\n      //this.ref.detectChanges(); // trigger change detection cycle\r\n    });\r\n  }\r\n\r\n  pathForImage(img) {\r\n    if (img === null) {\r\n      return '';\r\n    } else {\r\n      let converted = this.webview.convertFileSrc(img);\r\n      return converted;\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    console.log(\"Logging out user\");\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n\r\n  updateUsersGroup(group, users){\r\n    let arrUpdateUsers = {\r\n      idGroup : group,\r\n      idusers : users\r\n    }\r\n\r\n    this.groupService.postUpdateBadge(arrUpdateUsers).subscribe( rs => {\r\n      //console.log('* [RESPUESTA ACTUALIZACION BADGE]', rs);\r\n    });\r\n\r\n    console.log('[ARREGLO PARA ACTUALIZACION DE BADGETS]', arrUpdateUsers);\r\n  }\r\n\r\n  updateReadMessage(){\r\n\r\n    console.log('**************USER' , this.userId);\r\n    console.log('Group', this.idgroup );\r\n\r\n   const updateBadge = {\r\n    \"userId\" : this.userId,\r\n    \"groupId\" : this.idgroup\r\n   }\r\n\r\n console.log('XXXXXXXXXXXXXXXXXXidGroup' , updateBadge);\r\n   this.groupService.postUpdateRead(updateBadge).subscribe(rrs => {\r\n     console.log('{**INFO--}', rrs)\r\n   })\r\n\r\n  }\r\n\r\n\r\n\r\n}// ENd Class\r\n\r\n"],"sourceRoot":"webpack:///"}