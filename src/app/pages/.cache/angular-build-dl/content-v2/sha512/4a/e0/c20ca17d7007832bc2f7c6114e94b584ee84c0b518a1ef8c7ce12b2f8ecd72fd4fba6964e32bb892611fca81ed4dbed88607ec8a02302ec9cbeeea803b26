{"version":3,"sources":["./src/app/pages/add-u/add-u.page.html","./src/app/pages/add-u/add-u.module.ts","./src/app/pages/add-u/add-u.page.scss","./src/app/pages/add-u/add-u.page.ts"],"names":[],"mappings":"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","file":"pages-add-u-add-u-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"warning\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/contacts\\\" icon-only></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>{{'ADDCONTACT.title' | translate}}</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content> \\r\\n\\r\\n  \\r\\n \\r\\n\\r\\n<ion-card>  \\r\\n  <ion-item>\\r\\n    <ion-icon src=\\\"/assets/icons/qr-code-outline.svg\\\" class=\\\"qr\\\" (click)=\\\"scan()\\\"></ion-icon>\\r\\n  </ion-item>\\r\\n  <ion-card-content>\\r\\n    <ion-button expand=\\\"block\\\" (click)=\\\"scan()\\\" color=\\\"dark\\\">\\r\\n      \\r\\n      {{'ADDCONTACT.searchBar.form.buttonScann' | translate}}\\r\\n    </ion-button>\\r\\n    <ion-item>\\r\\n      <label for=\\\"\\\">{{'ADDCONTACT.searchBar.form.scannedCode' | translate}}: {{scannedCode}}</label>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-input placeholder=\\\"Sekret ID\\\" [(ngModel)]=\\\"contact.sidcontact\\\"></ion-input>\\r\\n      \\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-input placeholder=\\\"{{'ADDCONTACT.searchBar.form.apodo' | translate}}\\\" [(ngModel)]=\\\"contact.alias\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-textarea placeholder=\\\"{{'ADDCONTACT.searchBar.form.tellYourContact' | translate}}\\\" [(ngModel)]=\\\"contact.message\\\"></ion-textarea>\\r\\n    </ion-item>\\r\\n    <ion-button expand=\\\"full\\\"\\r\\n                color=\\\"warning\\\"\\r\\n                (click)=\\\"addContact()\\\"\\r\\n                [disabled]=\\\"contact.sidcontact.length < 1\\\">\\r\\n                {{'ADDCONTACT.searchBar.form.btnAddContact' | translate}}\\r\\n    </ion-button>    \\r\\n  </ion-card-content>\\r\\n</ion-card>\\r\\n\\r\\n<ion-content>\\r\\n  <img src=\\\"assets/softwarb_qr_scanner_white.png\\\" alt=\\\"\\\">\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddUPage } from './add-u.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddUPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule\r\n  ],\r\n  declarations: [AddUPage]\r\n})\r\nexport class AddUPageModule {}\r\n","export default \".text-cender {\\n  text-align: center;\\n  font-size: 16px;\\n}\\n\\nion-app.cameraView, ion-app.cameraView ion-content, ion-app.cameraView .nav-decor {\\n  background: transparent none !important;\\n}\\n\\nadd-user img {\\n  opacity: 0.5;\\n  max-width: 95%;\\n  max-height: calc(98% - 100px);\\n  position: fixed;\\n  top: 50%;\\n  left: 50%;\\n  /* bring your own prefixes */\\n  transform: translate(-50%, -50%);\\n}\\n\\n.imagen {\\n  width: 100px;\\n  height: 100px;\\n  margin-left: 35%;\\n}\\n\\n.qr {\\n  font-size: 94px;\\n  text-align: center;\\n  color: black;\\n  margin-left: 32%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRkLXUvQzpcXFVzZXJzXFxOZW1lc3Npc1xcRGVza3RvcFxccHJvamVjdHNcXGp1bmlvXFxjYWxsc1xcZnN1IC0gQ29weS9zcmNcXGFwcFxccGFnZXNcXGFkZC11XFxhZGQtdS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2FkZC11L2FkZC11LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtBQ0NKOztBREVBO0VBQ0ksdUNBQUE7QUNDSjs7QURLUTtFQUNFLFlBQUE7RUFDQSxjQUFBO0VBQ0EsNkJBQUE7RUFDQSxlQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSw0QkFBQTtFQUNBLGdDQUFBO0FDRlY7O0FEU0U7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLGdCQUFBO0FDTko7O0FEU0U7RUFDRSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNOSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkZC11L2FkZC11LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi50ZXh0LWNlbmRlcntcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuaW9uLWFwcC5jYW1lcmFWaWV3LCBpb24tYXBwLmNhbWVyYVZpZXcgaW9uLWNvbnRlbnQsIGlvbi1hcHAuY2FtZXJhVmlldyAubmF2LWRlY29yIHtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmUgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG5cclxuICBhZGQtdXNlciB7XHJcbiAgICBcclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgb3BhY2l0eTogMC41O1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiA5NSU7XHJcbiAgICAgICAgICBtYXgtaGVpZ2h0OiBjYWxjKDk4JSAtIDEwMHB4KTtcclxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgICAgLyogYnJpbmcgeW91ciBvd24gcHJlZml4ZXMgKi9cclxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gIH1cclxuXHJcblxyXG5cclxuICAuaW1hZ2Vue1xyXG4gICAgd2lkdGg6IDEwMHB4O1xyXG4gICAgaGVpZ2h0OiAxMDBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAzNSU7XHJcbiAgfVxyXG5cclxuICAucXJ7XHJcbiAgICBmb250LXNpemU6IDk0cHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogYmxhY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogMzIlO1xyXG4gIH0iLCIudGV4dC1jZW5kZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMTZweDtcbn1cblxuaW9uLWFwcC5jYW1lcmFWaWV3LCBpb24tYXBwLmNhbWVyYVZpZXcgaW9uLWNvbnRlbnQsIGlvbi1hcHAuY2FtZXJhVmlldyAubmF2LWRlY29yIHtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZSAhaW1wb3J0YW50O1xufVxuXG5hZGQtdXNlciBpbWcge1xuICBvcGFjaXR5OiAwLjU7XG4gIG1heC13aWR0aDogOTUlO1xuICBtYXgtaGVpZ2h0OiBjYWxjKDk4JSAtIDEwMHB4KTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICAvKiBicmluZyB5b3VyIG93biBwcmVmaXhlcyAqL1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbn1cblxuLmltYWdlbiB7XG4gIHdpZHRoOiAxMDBweDtcbiAgaGVpZ2h0OiAxMDBweDtcbiAgbWFyZ2luLWxlZnQ6IDM1JTtcbn1cblxuLnFyIHtcbiAgZm9udC1zaXplOiA5NHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiBibGFjaztcbiAgbWFyZ2luLWxlZnQ6IDMyJTtcbn0iXX0= */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { NavParams, ModalController, NavController } from '@ionic/angular';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { Base64ToGallery } from '@ionic-native/base64-to-gallery/ngx';\r\nimport { ContactsService } from 'src/app/services/contacts.service';\r\nimport { ContactsPageModule } from '../contacts/contacts.module';\r\nimport { BarcodeScanner } from '@ionic-native/barcode-scanner/ngx';\r\n\r\nimport { QRScanner, QRScannerStatus } from '@ionic-native/qr-scanner/ngx';\r\nimport { UsersService } from 'src/app/services/users.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Platform } from '@ionic/angular';\r\nimport {  Router } from '@angular/router';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-add-u',\r\n  templateUrl: './add-u.page.html',\r\n  styleUrls: ['./add-u.page.scss'],\r\n})\r\nexport class AddUPage implements OnInit {\r\n  @Input() sekretid;\r\n\r\n  scannedCode = null;\r\n  elementType: 'SekretId' | 'AddUser';\r\n\r\n  contact = {\r\n    siduser: '',\r\n    sidcontact: '',\r\n    alias: '',\r\n    message: ''\r\n  }\r\n\r\n  scanSubscription;\r\n  encodedData = '';\r\n  QRSCANNED_DATA: string;\r\n  isOn = false;\r\n  scannedData: {};\r\n  args;\r\n  usernameStorage;\r\n  siduser;\r\n  scaned;\r\n  arrayUserContact;\r\n  pushId;\r\n  pushService;\r\n\r\n  swcamera;\r\n\r\n  constructor(private modalController: ModalController,\r\n    private barcodeScanner: BarcodeScanner,\r\n    private base64ToGallery: Base64ToGallery,\r\n    private ContactService: ContactsService,\r\n    private qrScanner: QRScanner,\r\n    private storage: Storage,\r\n    private userService: UsersService,\r\n    private navCtrl: NavController,\r\n    private platform: Platform,\r\n    private router: Router,\r\n    private toastCtrl: ToastController) {\r\n\r\n    this.platform.backButton.subscribeWithPriority(10, () => {\r\n      document.getElementsByTagName(\"body\")[0].style.opacity = \"1\";\r\n      this.scaned.unsubscribe();\r\n    })\r\n\r\n    platform.ready().then(() => {\r\n      this.platform.pause.subscribe(() => {\r\n        console.log('VALOR DEL SW CAMERA', this.swcamera);\r\n        if (this.swcamera === true) {\r\n          this.swcamera = '';\r\n        } else {\r\n          this.swcamera = false;\r\n          console.log(\"kicking user\");\r\n         // this.logout();\r\n        }\r\n      });\r\n\r\n      this.platform.resume.subscribe(() => {\r\n        console.log('[INFO] App resumed');\r\n      });\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    // this.getSI();\r\n    console.log('desde onoinit', this.siduser);\r\n  }\r\n\r\n  logout() {\r\n    console.log(\"Logging out user\");\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  closeModal() {\r\n    this.modalController.dismiss();\r\n  }\r\n\r\n  getSI() {\r\n\r\n  }\r\n\r\n\r\n  downloadQR() {\r\n    const AddUser = document.querySelector('AddUser') as HTMLCanvasElement;\r\n    const imageData = AddUser.toDataURL('image/jpeg').toString();\r\n    console.log('data: ', imageData);\r\n  }\r\n\r\n  addContact() {\r\n    this.args = this.storage.get('username').then((result) => {\r\n      this.usernameStorage = result;\r\n      console.log('usuario loggeado', this.usernameStorage);\r\n      this.userService.getSekretId(result).subscribe(response => {\r\n        this.siduser = response.user[0].sekretid;\r\n        console.log('Respuesta de usuarios', response.user[0].sekretid);\r\n        this.contact.siduser = response.user[0].sekretid;\r\n\r\n        console.log('[INFO]', this.contact);\r\n\r\n        console.log('[INFO] : SID Contacto', this.contact.sidcontact);\r\n        if (this.contact.sidcontact.length < 10 || this.contact.sidcontact.length > 10) {\r\n          this.showToast('El contacto no existe')\r\n        } else {\r\n          this.ContactService.getInfoUserBySekretId(this.contact.sidcontact).subscribe(res => {\r\n            if (res.total === 1) {\r\n              if (this.contact.siduser === this.contact.sidcontact) {\r\n                this.showToast('No puedes agregarte a ti mismo');\r\n              } else {\r\n                this.ContactService.getAlreadyHave(this.contact.siduser, this.contact.sidcontact).subscribe(resp => {\r\n                  console.log('[GET] ', resp.total);\r\n                  if (resp.total === 0) {\r\n                    // add Contact                    \r\n                    this.ContactService.AddContact(this.contact);\r\n                    this.userService.getUserNameBySekretId(this.contact.sidcontact).subscribe(data => {\r\n                      this.arrayUserContact = data.user[0];\r\n                      this.pushId = this.arrayUserContact.notificationId;\r\n                      this.pushService.sendPushRequest(this.pushId).subscribe(res => {\r\n                        console.log('notificacion enviada', res);\r\n                      })\r\n                      this.navCtrl.navigateRoot('/contacts', { animated: true });\r\n                      this.navCtrl.navigateBack('/contacts', { animated: true });\r\n                      this.router.navigateByUrl('/contacts');\r\n                      console.log('redirige')\r\n                    }); // get iduser\r\n                  } else {\r\n                    this.showToast('Ya hace parte de tus contactos');\r\n                  }\r\n                })\r\n              }\r\n            } else {\r\n              this.showToast('El contacto no existe');\r\n            }\r\n          })\r\n        }\r\n\r\n\r\n\r\n        \r\n\r\n       \r\n\r\n\r\n      });\r\n    });\r\n   // this.navCtrl.navigateRoot('/contacts', { animated: true });\r\n\r\n  }\r\n\r\n\r\n  scan() {\r\n    this.swcamera = true\r\n    this.qrScanner.prepare().then((status: QRScannerStatus) => {\r\n      if (status.authorized) {\r\n        this.qrScanner.show();\r\n        document.getElementsByTagName(\"body\")[0].style.opacity = \"0\";\r\n        this.scaned = this.qrScanner.scan().subscribe((textFound) => {\r\n          document.getElementsByTagName(\"body\")[0].style.opacity = \"1\";\r\n          this.scannedCode = textFound;\r\n          this.contact.sidcontact = textFound;\r\n          this.qrScanner.hide();\r\n          this.scaned.unsubscribe();\r\n          this.qrScanner.destroy();\r\n          this.scaned.destroy();\r\n          this.closeScanner();\r\n        }, (err) => {\r\n          console.log(err);\r\n        })\r\n      } else if (status.denied) {\r\n\r\n      } else {\r\n\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  closeScanner() {\r\n    this.isOn = false;\r\n    this.qrScanner.hide();\r\n    this.qrScanner.destroy();\r\n  }\r\n\r\n  async showToast(msg) {\r\n    let toast = await this.toastCtrl.create({\r\n      message: msg,\r\n      position: 'middle',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}