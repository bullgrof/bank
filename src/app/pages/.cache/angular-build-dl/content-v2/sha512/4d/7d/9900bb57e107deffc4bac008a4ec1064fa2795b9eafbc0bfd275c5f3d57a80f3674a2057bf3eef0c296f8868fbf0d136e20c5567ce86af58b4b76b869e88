{"version":3,"sources":["./src/app/pages/callreply/callreply.page.html","./src/app/pages/callreply/callreply.module.ts","./src/app/pages/callreply/callreply.page.scss","./src/app/pages/callreply/callreply.page.ts"],"names":[],"mappings":"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","file":"pages-callreply-callreply-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>callreply</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n{{ partner }}\\n<div id=\\\"errorMsg\\\"></div>\\n<video id=\\\"partner-video\\\" (click)=\\\"swapVideo('my-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'partner-video', 'main-video': topVideoFrame != 'partner-video'}\\\">\\n  </video>\\n  <video id=\\\"my-video\\\" (click)=\\\"swapVideo('partner-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'my-video', 'main-video': topVideoFrame != 'my-video'}\\\" >\\n  </video>\\n\\n  <ion-row nowrap>\\n    <ion-button (click)=\\\"init()\\\">Login As: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userId\\\" placeholder=\\\"enter your nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>\\n\\n  <ion-row nowrap>\\n    <ion-button (click)=\\\"call()\\\">Call To: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"partnerId\\\" placeholder=\\\"your partner nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>  \\n\\n\\n\\n\\n\\n\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CallreplyPage } from './callreply.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallreplyPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CallreplyPage]\n})\nexport class CallreplyPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhbGxyZXBseS9jYWxscmVwbHkucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, ElementRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { WebrtcService } from 'src/app/services/webrtc.service';\n\n@Component({\n  selector: 'app-callreply',\n  templateUrl: './callreply.page.html',\n  styleUrls: ['./callreply.page.scss'],\n})\nexport class CallreplyPage implements OnInit {\n  partner;\n  topVideoFrame = 'partner-video';\n  userId: string;\n  partnerId: string;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n  myPartner;\n  callerId\n\n\n  constructor(\n    private activatedRoute : ActivatedRoute,\n    private router: Router,\n    public elRef: ElementRef,\n    public webRTC: WebrtcService,\n  ) { }\n\n  ngOnInit() {\n    this.partner = this.activatedRoute.snapshot.paramMap.get('par');\n    this.myPartner = this.makeid(35);\n    this.init(this.myPartner);\n    this.call(this.partner);\n    \n  }\n\n  init(userIdCall) {\n    this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n    this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n    this.webRTC.init(userIdCall, this.myEl, this.partnerEl);\n  }\n\n  makeid(length) {\n    let result = '';\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() *\n        charactersLength));\n    }\n    return result;\n  }\n\n  \n  call(partnerIncoming) {\n    this.webRTC.call(partnerIncoming);\n    this.swapVideo('my-video');\n  }\n\n  swapVideo(topVideo: string) {\n    this.topVideoFrame = topVideo;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}