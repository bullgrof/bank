{"version":3,"sources":["src/app/pages/chat-new/chat-new.page.html","src/app/pages/modal-contacts/modal-contacts.page.html","src/app/pages/chat-new/chat-new.module.ts","src/app/pages/chat-new/chat-new.page.scss","src/app/pages/chat-new/chat-new.page.ts","src/app/pages/modal-contacts/modal-contacts.module.ts","src/app/pages/modal-contacts/modal-contacts.page.scss","src/app/pages/modal-contacts/modal-contacts.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"warning\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goToContacts()\\\">\\n      <ion-icon src=\\\"assets/icons/arrow-back.svg\\\"></ion-icon>\\n    </ion-button>\\n  </ion-buttons>\\n\\n  <ion-buttons class=\\\"\\\">\\n    <ion-avatar slot=\\\"\\\" color=\\\"warning\\\">\\n      <img src=\\\"../../../assets/avatars/av-10.png\\\" class=\\\"avatar\\\">\\n    </ion-avatar>\\n    <label class=\\\"username\\\">{{usernameContact}} ({{nameContact}})</label>\\n  </ion-buttons>\\n\\n  <ion-buttons slot=\\\"primary\\\">\\n    <ion-button  (click)=\\\"logout()\\\">\\n      <ion-icon  slot=\\\"end\\\" src=\\\"/assets/icons/power.svg\\\" class=\\\"icon-logout\\\" ></ion-icon>\\n    </ion-button>\\n \\n  </ion-buttons>    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content #scrollElement class=\\\"ion-padding2\\\">\\n  <!--space to menu lateral rigth-->\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\" color=\\\"warning\\\">\\n    <ion-fab-button class=\\\"ios ion-activatable ion-focusable hydrated\\\" color=\\\"warning\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n\\n    <ion-fab-list side=\\\"\\\">\\n      <ion-fab-button color=\\\"warning\\\" data-desc=\\\"Camara\\\" (click)=\\\"captureImage()\\\" *ngIf=\\\"planActive  === 'Plan Plus' || planActive === 'Plan Promocional'\\\">\\n        <ion-icon name=\\\"camera\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo facebook\\\"></ion-icon>\\n      </ion-fab-button>\\n\\n      <ion-fab-button color=\\\"warning\\\" data-desc=\\\"Galería\\\" (click)=\\\"imageGallery()\\\" *ngIf=\\\"planActive  === 'Plan Plus' || planActive === 'Plan Promocional'\\\">\\n        <ion-icon name=\\\"image\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo twitter\\\"></ion-icon>\\n      </ion-fab-button>\\n\\n      <ion-fab-button color=\\\"warning\\\" data-desc=\\\"Enviar al Baúl\\\" (click)=\\\"sendTrunk()\\\"\\n        *ngIf=\\\"planActive  === 'Plan Plus' || planActive === 'Plan Promocional'\\\">\\n        <ion-icon src=\\\"/assets/icons/lock-closed.svg\\\"  class=\\\"\\\"></ion-icon>\\n      </ion-fab-button>\\n\\n      <ion-fab-button color=\\\"warning\\\" data-desc=\\\"Eliminar mensajes\\\" (click)=\\\"deleteMeessages()\\\">\\n        <ion-icon name=\\\"trash\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo vimeo\\\"></ion-icon>\\n      </ion-fab-button>\\n\\n    </ion-fab-list>\\n  </ion-fab>\\n  \\n<ion-row radio-group *ngFor=\\\"let message of messages; let i = index\\\">\\n  <ion-col size=\\\"9\\\" *ngIf=\\\"message.senderId !== currentUser && message.type === '1' \\\">\\n    <div class=\\\"bubble me\\\">\\n      <div class=\\\"user\\\">\\n        <ion-radio slot=\\\"start\\\" *ngIf=\\\"checks === 'on'\\\"  (click)=\\\"addSelectResend(message)\\\"></ion-radio>\\n        <ion-icon src=\\\"/assets/icons/redo.svg\\\" \\n                  class=\\\"icon-app\\\"\\n                  (click)=\\\"presentSelect()\\\" \\n                  *ngIf=\\\"checks === 'off'\\\"></ion-icon>\\n        {{ nameContact }} <br>\\n      </div>      \\n        <div class=\\\"msg\\\">\\n          {{ decrypt(message.body)}}\\n        </div>\\n        <div class=\\\"footer-bubble\\\">\\n          <div class=\\\"mess text-right\\\">{{ message.createdAt}}</div>\\n          <div class=\\\"decode text-right\\\">Decoded {{message.createAt | date:'short'}}</div>\\n        </div>       \\n    </div>\\n    \\n  </ion-col>\\n\\n  <ion-col offset=\\\"3\\\" size=\\\"9\\\" *ngIf=\\\"message.senderId === currentUser && message.type === '1' && currentUser !== message.deleteAlpha\\\">\\n    <div class=\\\"bubble you\\\">\\n      <div class=\\\"user\\\">\\n        <ion-radio slot=\\\"start\\\" *ngIf=\\\"checks === 'on'\\\" (click)=\\\"addSelectResend(message)\\\"></ion-radio>\\n        <ion-icon src=\\\"/assets/icons/redo.svg\\\" \\n                  class=\\\"icon-app\\\" \\n                  (click)=\\\"presentSelect()\\\"\\n                  *ngIf=\\\"checks === 'off'\\\"\\n        ></ion-icon>\\n         {{ myUsername }}<br>\\n      </div>\\n      <div class=\\\"msg2\\\">\\n        {{ decrypt(message.body)}}\\n      </div>\\n      <div class=\\\"footer-bubble\\\">\\n        <div class=\\\"mess text-right\\\">{{ message.createdAt}}</div>\\n        <div class=\\\"decode text-right\\\">Decoded {{message.createAt | date:'short'}}</div>\\n        <ion-icon class=\\\"check\\\" src=\\\"assets/icons/checkmark-outline.svg\\\" *ngIf=\\\"message.isread === '0'\\\"></ion-icon>\\n        <ion-icon class=\\\"check\\\" src=\\\"assets/icons/checkmark-done-outline.svg\\\" *ngIf=\\\"message.isread === '1'\\\"></ion-icon>\\n      </div>\\n     \\n    </div>\\n  </ion-col>\\n\\n   <!--ion-col size=\\\"9\\\" *ngIf=\\\"message.senderId !== currentUser && message.type === '1' \\\"\\n          class=\\\"message other-message\\\">\\n          <div *ngIf=\\\"currentUser  !== message.deleteAlpha || currentUser === message.deletebetha\\\">\\n            <div *ngIf=\\\"currentUser !== message.deletebetha\\\">\\n              <div class=\\\"user\\\" >\\n                <ion-icon src=\\\"/assets/icons/redo.svg\\\" class=\\\"icon-app\\\" (click)=\\\"presentMenuBar(message.body, message.receiverId)\\\"></ion-icon> \\n                {{ nameContact }} <br>\\n              </div>\\n              <span>{{ decrypt(message.body)}}</span>\\n              <div class=\\\"mess text-right\\\">{{ message.createdAt}}</div>\\n              <div class=\\\"decode text-right\\\">Decoded {{message.createAt | date:'short'}}</div>\\n            </div>\\n          </div>\\n        </ion-col-->\\n     \\n       \\n\\n        <!--ion-col offset=\\\"3\\\" size=\\\"9\\\" *ngIf=\\\"message.senderId === currentUser && message.type === '1' && currentUser !== message.deleteAlpha\\\"\\n          class=\\\"message my-message\\\">\\n          <div *ngIf=\\\"currentUser  !== message.deleteAlpha || currentUser === message.deletebetha\\\">\\n            <div *ngIf=\\\"currentUser !== message.deletebetha\\\">\\n              <div class=\\\"user\\\">\\n                <ion-icon src=\\\"/assets/icons/redo.svg\\\" class=\\\"icon-app\\\" (click)=\\\"presentMenuBar(message.body, message.receiverId)\\\"></ion-icon>\\n                 {{ myUsername }}<br>\\n              </div>\\n              <span>{{ decrypt(message.body) }}</span>\\n              <div class=\\\"mess text-right\\\">{{ message.createdAt}}</div>\\n              <div class=\\\"decode text-right\\\">Encoded {{message.createAt | date:'short' }}</div>\\n              <ion-icon src=\\\"assets/icons/checkmark-outline.svg\\\" *ngIf=\\\"message.isread === '0'\\\"></ion-icon>\\n              <ion-icon src=\\\"assets/icons/checkmark-done-outline.svg\\\" *ngIf=\\\"message.isread === '1'\\\"></ion-icon>\\n            </div>\\n          </div>\\n        </ion-col-->\\n  \\n</ion-row>\\n  \\n</ion-content>\\n\\n\\n<ion-footer color=\\\"warning\\\">\\n  <ion-toolbar color=\\\"light\\\" *ngIf=\\\"checks === 'on'\\\">\\n    <ion-button expand=\\\"block\\\" (click)=\\\"resendMessage()\\\"  class=\\\"ios button button-block button-solid ion-activatable ion-focusable hydrated\\\">Seleccionar contactos</ion-button>\\n    <ion-button expand=\\\"block\\\" (click)=\\\"canelResend()\\\"  class=\\\"ios button button-block button-solid ion-activatable ion-focusable hydrated\\\" color=\\\"danger\\\">Cancelar</ion-button>\\n  </ion-toolbar>\\n  <ion-toolbar color=\\\"light\\\" *ngIf=\\\"checks === 'off' \\\">\\n    <ion-row class=\\\"align-items-center\\\" class=\\\"ion-no-padding\\\">\\n      <ion-col size=\\\"10\\\">\\n        <textarea autosize maxRows=\\\"4\\\" [(ngModel)]=\\\"message\\\" class=\\\"message-input\\\"></textarea>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"warning\\\" [disabled]=\\\"message === ''\\\" class=\\\"msg-btn\\\"\\n          (click)=\\\"sendMessage()\\\">\\n          <ion-icon src=\\\"assets/icons/send.svg\\\" slot=\\\"icon-only\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\"","export default \"<ion-header no-border>\\r\\n  \\r\\n<ion-toolbar>\\r\\n  <ion-buttons slot=\\\"primary\\\">\\r\\n    <ion-button color=\\\"warning\\\" (click)=\\\"exitWithOutArguments()\\\">\\r\\n      <ion-icon slot=\\\"icon-only\\\" ios=\\\"close\\\" md=\\\"close\\\"></ion-icon>\\r\\n    </ion-button>\\r\\n  </ion-buttons>\\r\\n  <ion-title> {{'MODALCONTACTS.title' | translate}}</ion-title>\\r\\n</ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n  <ion-card>\\r\\n    <ion-card-header>\\r\\n      <ion-card-subtitle>{{'MODALCONTACTS.message' | translate}}: </ion-card-subtitle>\\r\\n    </ion-card-header>\\r\\n    <ion-card-content>\\r\\n        <ion-row *ngFor=\\\"let message of objMessage; let i = index\\\">\\r\\n\\r\\n          <ion-col size=\\\"9\\\" *ngIf=\\\"message.senderId !== currentUser && message.type === '1' \\\">\\r\\n            <div class=\\\"bubble me\\\">\\r\\n              <div class=\\\"user\\\">\\r\\n                <ion-radio slot=\\\"start\\\" *ngIf=\\\"checks === 'on'\\\"  (click)=\\\"addSelectResend(message)\\\"></ion-radio>\\r\\n                <ion-icon src=\\\"/assets/icons/redo.svg\\\" \\r\\n                          class=\\\"icon-app\\\"\\r\\n                          (click)=\\\"presentSelect()\\\" \\r\\n                          *ngIf=\\\"checks === 'off'\\\"></ion-icon>\\r\\n                {{ nameContact }} <br>\\r\\n              </div>      \\r\\n                <div class=\\\"msg\\\">\\r\\n                  {{ decrypt(message.body)}}\\r\\n                </div>\\r\\n                <div class=\\\"footer-bubble\\\">\\r\\n                  <div class=\\\"mess text-right\\\">{{ message.createdAt}}</div>\\r\\n                  <div class=\\\"decode text-right\\\">Decoded {{message.createAt | date:'short'}}</div>\\r\\n                </div>               \\r\\n            </div>            \\r\\n          </ion-col>\\r\\n\\r\\n        </ion-row>\\r\\n    </ion-card-content>\\r\\n  </ion-card>\\r\\n  \\r\\n  <ion-list>\\r\\n    <ion-item-sliding *ngFor=\\\"let contact of contacts\\\">\\r\\n      <ion-item class=\\\"itemheight\\\">\\r\\n        <ion-avatar slot=\\\"start\\\">\\r\\n          <img src=\\\"../../../assets/avatars/defaultavatar.png\\\">\\r\\n        </ion-avatar>\\r\\n        <ion-label class=\\\"sc-ion-label-ios-h sc-ion-label-ios-s ios hydrated\\\">\\r\\n          <h3 class=\\\"nameUser\\\">{{ contact.alias }}</h3>\\r\\n        </ion-label>\\r\\n        <ion-icon slot=\\\"end\\\" name=\\\"chevron-back-outline\\\" class=\\\"backArrow\\\"></ion-icon>\\r\\n        <label slot=\\\"end\\\" class=\\\"swip\\\">{{'MODALCONTACTS.swipe' | translate}} </label> \\r\\n      </ion-item>\\r\\n      <ion-item-options side=\\\"end\\\" (click)=\\\"resendMessageOwner(objMessage,sender, contact.sidcontact, contact.siduser)\\\">\\r\\n        <ion-item-option color=\\\"primary\\\">\\r\\n          {{'MODALCONTACTS.send' | translate}}\\r\\n        </ion-item-option>\\r\\n        <ion-item-option  color=\\\"primary\\\">\\r\\n          <ion-icon name=\\\"send-outline\\\"></ion-icon>\\r\\n        </ion-item-option>\\r\\n      </ion-item-options>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatNewPage } from './chat-new.page';\nimport { AutosizeModule }  from 'ngx-autosize';\nimport { ModalContactsPage } from '../modal-contacts/modal-contacts.page';\nimport { ModalContactsPageModule } from '../modal-contacts/modal-contacts.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatNewPage\n  }\n];\n\n@NgModule({\n  entryComponents: [\n    ModalContactsPage,\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    AutosizeModule,\n    ModalContactsPageModule\n  ],\n  declarations: [ChatNewPage]\n})\nexport class ChatNewPageModule {}\n","export default \".avatar {\\n  width: 70%;\\n  height: 70%;\\n  margin-top: 10%; }\\n\\n.username {\\n  font-size: 20px; }\\n\\n.icon-logout {\\n  font-size: 20px;\\n  background: red;\\n  width: 28px;\\n  height: 28px;\\n  border-radius: 50%;\\n  line-height: 50px;\\n  text-align: center;\\n  color: #FFF; }\\n\\n.message-input {\\n  width: 100%;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff;\\n  resize: none;\\n  padding-left: 10px;\\n  padding-right: 10px; }\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em; }\\n\\n/*Messages*/\\n\\n.message {\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap; }\\n\\n.other-message {\\n  background: #ffffff;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid; }\\n\\n.my-message {\\n  background: #dddbdb;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid; }\\n\\n.user {\\n  font-weight: bold;\\n  font-size: 18px;\\n  color: #3B3B3B; }\\n\\n.user2 {\\n  font-weight: bold;\\n  font-size: 18px;\\n  color: #3B3B3B;\\n  margin-top: -19px; }\\n\\n.bubble {\\n  background-color: #F2F2F2;\\n  border-radius: 5px;\\n  box-shadow: 0 0 6px #B2B2B2;\\n  display: inline-block;\\n  padding: 10px 18px;\\n  position: relative;\\n  vertical-align: top;\\n  width: 100%; }\\n\\n.bubble::before {\\n  background-color: #F2F2F2;\\n  content: \\\"\\\\00a0\\\";\\n  display: block;\\n  height: 16px;\\n  position: absolute;\\n  top: 11px;\\n  transform: rotate(29deg) skew(-35deg);\\n  -moz-transform: rotate(29deg) skew(-35deg);\\n  -ms-transform: rotate(29deg) skew(-35deg);\\n  -o-transform: rotate(29deg) skew(-35deg);\\n  -webkit-transform: rotate(29deg) skew(-35deg);\\n  width: 20px; }\\n\\n.me {\\n  float: left;\\n  margin: -6px 5px 5px 20px; }\\n\\n.me::before {\\n  box-shadow: -2px 2px 2px 0 rgba(178, 178, 178, 0.4);\\n  left: -9px; }\\n\\n.you {\\n  float: right;\\n  margin: -6px 20px 5px 45px;\\n  background-color: #dddbdb; }\\n\\n.you::before {\\n  box-shadow: 2px -2px 2px 0 #dddbdb;\\n  background-color: #dddbdb;\\n  right: -9px; }\\n\\n.footer-bubble {\\n  margin-top: 5px;\\n  font-size: 11px; }\\n\\n.msg {\\n  font-size: 18px;\\n  text-align: left;\\n  white-space: pre-wrap !important; }\\n\\n.msg2 {\\n  font-size: 18px;\\n  text-align: left;\\n  white-space: pre-wrap !important; }\\n\\n.check {\\n  font-size: 16px; }\\n\\n.ion-padding2 {\\n  padding: 5px; }\\n\\n/*END MESSAGEs*/\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC1uZXcvQzpcXFVzZXJzXFxOZW1lc3Npc1xcRGVza3RvcFxcZGV2XFxBYnJpbFxcZnN1L3NyY1xcYXBwXFxwYWdlc1xcY2hhdC1uZXdcXGNoYXQtbmV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQVU7RUFDVixXQUFXO0VBQ1gsZUFBZSxFQUFBOztBQUduQjtFQUNJLGVBQWMsRUFBQTs7QUFHbEI7RUFFRyxlQUFlO0VBRWYsZUFBZTtFQUNmLFdBQVc7RUFDWCxZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsV0FBVyxFQUFBOztBQUdkO0VBQ0ksV0FBVztFQUNYLHlDQUF5QztFQUN6QyxtQkFBbUI7RUFDbkIsZ0JBQWdCO0VBQ2hCLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsbUJBQW1CLEVBQUE7O0FBR3JCO0VBQ0Usc0JBQWdCO0VBQ2hCLG9CQUFjLEVBQUE7O0FBSWhCLFdBQUE7O0FBQ0E7RUFFRSxtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLHFCQUFxQixFQUFBOztBQUd2QjtFQUNFLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixtQkFBbUIsRUFBQTs7QUFHckI7RUFDRSxtQkFBbUI7RUFDbkIsY0FBYztFQUNkLHFCQUFxQjtFQUNyQixrQkFBa0I7RUFDbEIsbUJBQW1CLEVBQUE7O0FBSXJCO0VBQ0UsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixjQUFjLEVBQUE7O0FBSWhCO0VBQ0UsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixjQUFjO0VBQ2QsaUJBQWlCLEVBQUE7O0FBR25CO0VBQ0UseUJBQXlCO0VBQ3pCLGtCQUFrQjtFQUNsQiwyQkFBMkI7RUFDM0IscUJBQXFCO0VBQ3JCLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLFdBQVcsRUFBQTs7QUFHZjtFQUNJLHlCQUF5QjtFQUN6QixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLFlBQVk7RUFDWixrQkFBa0I7RUFDbEIsU0FBUztFQUNULHFDQUFxRDtFQUNqRCwwQ0FBaUQ7RUFDakQseUNBQWlEO0VBQ2pELHdDQUFpRDtFQUNqRCw2Q0FBaUQ7RUFDckQsV0FBWSxFQUFBOztBQUdoQjtFQUNJLFdBQVc7RUFDWCx5QkFBeUIsRUFBQTs7QUFHN0I7RUFDSSxtREFBb0Q7RUFDcEQsVUFBVSxFQUFBOztBQUdkO0VBQ0ksWUFBWTtFQUNaLDBCQUEwQjtFQUMxQix5QkFBeUIsRUFBQTs7QUFHN0I7RUFDSSxrQ0FBa0M7RUFDbEMseUJBQXlCO0VBQ3pCLFdBQVcsRUFBQTs7QUFHZjtFQUNFLGVBQWU7RUFDZixlQUFlLEVBQUE7O0FBR2pCO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixnQ0FBK0IsRUFBQTs7QUFHakM7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBRWpCLGdDQUErQixFQUFBOztBQUdoQztFQUNFLGVBQWUsRUFBQTs7QUFHakI7RUFDRSxZQUFZLEVBQUE7O0FBR1osZUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NoYXQtbmV3L2NoYXQtbmV3LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5hdmF0YXJ7XHJcbiAgICB3aWR0aDogNzAlO1xyXG4gICAgaGVpZ2h0OiA3MCU7XHJcbiAgICBtYXJnaW4tdG9wOiAxMCU7XHJcbn1cclxuXHJcbi51c2VybmFtZXtcclxuICAgIGZvbnQtc2l6ZToyMHB4O1xyXG59XHJcblxyXG4uaWNvbi1sb2dvdXR7XHJcbiBcclxuICAgZm9udC1zaXplOiAyMHB4O1xyXG5cclxuICAgYmFja2dyb3VuZDogcmVkO1xyXG4gICB3aWR0aDogMjhweDtcclxuICAgaGVpZ2h0OiAyOHB4O1xyXG4gICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xyXG4gICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgIGNvbG9yOiAjRkZGO1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuXHJcbiAgLm1zZy1idG4ge1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcclxuICAgIC0tcGFkZGluZy1lbmQ6IDAuNWVtO1xyXG4gIH1cclxuXHJcblxyXG4gIC8qTWVzc2FnZXMqL1xyXG4gIC5tZXNzYWdlIHtcclxuICAgIC8vcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbiAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XHJcbiAgfVxyXG4gICBcclxuICAub3RoZXItbWVzc2FnZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xyXG4gICAgY29sb3I6ICMwMDAwMDA7XHJcbiAgICBib3JkZXItY29sb3I6ICNjMGMwYzA7XHJcbiAgICBib3JkZXItd2lkdGg6IHRoaW47XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gIH1cclxuXHJcbiAgLm15LW1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZDogI2RkZGJkYjtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjYzBjMGMwO1xyXG4gICAgYm9yZGVyLXdpZHRoOiB0aGluO1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICBcclxuICB9XHJcblxyXG4gIC51c2Vye1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBjb2xvcjogIzNCM0IzQjtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgLnVzZXIye1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBmb250LXNpemU6IDE4cHg7XHJcbiAgICBjb2xvcjogIzNCM0IzQjtcclxuICAgIG1hcmdpbi10b3A6IC0xOXB4O1xyXG4gIH1cclxuXHJcbiAgLmJ1YmJsZXtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNGMkYyRjI7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDAgNnB4ICNCMkIyQjI7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDE4cHg7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB2ZXJ0aWNhbC1hbGlnbjogdG9wO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5idWJibGU6OmJlZm9yZSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjJGMkYyO1xyXG4gICAgY29udGVudDogXCJcXDAwYTBcIjtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgaGVpZ2h0OiAxNnB4O1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAxMXB4O1xyXG4gICAgdHJhbnNmb3JtOiAgICAgICAgICAgICByb3RhdGUoIDI5ZGVnICkgc2tldyggLTM1ZGVnICk7XHJcbiAgICAgICAgLW1vei10cmFuc2Zvcm06ICAgIHJvdGF0ZSggMjlkZWcgKSBza2V3KCAtMzVkZWcgKTtcclxuICAgICAgICAtbXMtdHJhbnNmb3JtOiAgICAgcm90YXRlKCAyOWRlZyApIHNrZXcoIC0zNWRlZyApO1xyXG4gICAgICAgIC1vLXRyYW5zZm9ybTogICAgICByb3RhdGUoIDI5ZGVnICkgc2tldyggLTM1ZGVnICk7XHJcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSggMjlkZWcgKSBza2V3KCAtMzVkZWcgKTtcclxuICAgIHdpZHRoOiAgMjBweDtcclxufVxyXG5cclxuLm1lIHtcclxuICAgIGZsb2F0OiBsZWZ0OyAgIFxyXG4gICAgbWFyZ2luOiAtNnB4IDVweCA1cHggMjBweDsgICAgICAgICBcclxufVxyXG5cclxuLm1lOjpiZWZvcmUge1xyXG4gICAgYm94LXNoYWRvdzogLTJweCAycHggMnB4IDAgcmdiYSggMTc4LCAxNzgsIDE3OCwgLjQgKTtcclxuICAgIGxlZnQ6IC05cHg7ICAgICAgICAgICBcclxufVxyXG5cclxuLnlvdSB7XHJcbiAgICBmbG9hdDogcmlnaHQ7ICAgIFxyXG4gICAgbWFyZ2luOiAtNnB4IDIwcHggNXB4IDQ1cHg7ICAgIFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2RkZGJkYjsgICAgIFxyXG59XHJcblxyXG4ueW91OjpiZWZvcmUge1xyXG4gICAgYm94LXNoYWRvdzogMnB4IC0ycHggMnB4IDAgI2RkZGJkYjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkZGRiZGI7XHJcbiAgICByaWdodDogLTlweDsgICAgXHJcbn1cclxuXHJcbi5mb290ZXItYnViYmxle1xyXG4gIG1hcmdpbi10b3A6IDVweDtcclxuICBmb250LXNpemU6IDExcHg7XHJcbn1cclxuXHJcbi5tc2d7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwIWltcG9ydGFudDtcclxufVxyXG5cclxuLm1zZzJ7XHJcbiAgZm9udC1zaXplOiAxOHB4O1xyXG4gIHRleHQtYWxpZ246IGxlZnQ7XHJcbiAvLyB3aGl0ZS1zcGFjZTogcHJlLWxpbmUhaW1wb3J0YW50O1xyXG4gd2hpdGUtc3BhY2U6IHByZS13cmFwIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNoZWNre1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5cclxuLmlvbi1wYWRkaW5nMntcclxuICBwYWRkaW5nOiA1cHg7XHJcbn1cclxuXHJcbiAgLypFTkQgTUVTU0FHRXMqLyJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { UsersService } from 'src/app/services/users.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ContactsService } from 'src/app/services/contacts.service';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { NgForm } from '@angular/forms';\nimport * as utf8 from 'crypto-js/enc-utf8';\nimport * as AES from 'crypto-js/aes';\nimport { AES256 } from '@ionic-native/aes-256/ngx';\nimport { environment } from 'src/environments/environment';\nimport { PushService } from 'src/app/services/push.service';\nimport { Socket } from 'ngx-socket-io';\nimport { IonContent,ToastController } from '@ionic/angular';\nimport { ActionSheetController, NavController, ModalController } from '@ionic/angular';\nimport { ModalContactsPage } from '../modal-contacts/modal-contacts.page';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { File, FileEntry } from '@ionic-native/File/ngx';\n\n@Component({\n  selector: 'app-chat-new',\n  templateUrl: './chat-new.page.html',\n  styleUrls: ['./chat-new.page.scss'],\n})\nexport class ChatNewPage implements OnInit {\n  @ViewChild('scrollElement', { static: false }) content: IonContent;\n  // vars Current User\n  mySid;\n  myId;\n  myUsername;\n  mytest;\n  currentUser;\n  planActive;\n\n  //vars Receiver User\n  arrayContact;\n  sidContact;\n  idContact;\n  usernameContact;\n  nameContact;\n  notiIdContact;\n  appid;\n\n  //vars not\n  notificate = {\n    apid : '',\n    notid: ''\n  }\n\n\n  //varsMessages\n  page=0;\n  allMessages = {\n    sender: '',\n    receiver: '',\n  }\n  part = {\n    senderId: '',\n    receiverId: ''\n  }\n  messages = [];\n  messageInSocket;\n  message = '';\n  cipherMessage='';\n  cipher='';\n  key1 = '123456789abcdefghijklmnopqrstuuvwxyz';\n  decodedMessage ='';\n  private secureKEY: string;\n  private secureIV: string;\n  skey: string = environment.sekretKey;\n\n  messageBody = {\n    message: '',\n    receiverid: '',\n    senderid: '',\n    type: '',\n    image: '',\n    secureKey: '',\n    secureIv: '',\n    createAt: Date.now(),\n  }\n  toSocket = {\n    convId: '',\n    msg: '',\n    type: '',\n    senderId: '',\n    receiverId: '',\n    audioFile: ''\n  }\n  m=[];\n  toResend=[];\n  checks='off';\n//Media\n  swcamera;\n  dataResFiles: any = [];\n  idContacts;\n  idDef1\n\n  constructor(private storage: Storage,\n    private userService: UsersService,\n    private activatedRoute: ActivatedRoute,\n    private contactsService: ContactsService,\n    private router: Router,\n    private chatService: ChatService,\n    private aes256: AES256,\n    private pushService: PushService,\n    private socket: Socket,\n    private actionSheetCtrl: ActionSheetController,\n    private modalCtrl: ModalController,\n    private toastCtrl: ToastController,\n    private cameranew: Camera,\n    private file: File,) { }\n\n  ngOnInit() {    \n  } //end on init\n  ionViewDidEnter(){\n    this.socket.connect();\n    this.sidContact = this.activatedRoute.snapshot.paramMap.get('hash');\n    //Get Var current User\n    \n    this.socket.fromEvent('user-connected').subscribe(resls => {\n    })\n\n    this.socket.fromEvent('joined').subscribe(resls => {\n    })\n\n    this.socket.fromEvent('message').subscribe(resmessage => {\n      this.messageInSocket = resmessage;\n      if (this.messageInSocket.msg !== '') {\n          this.messages.push({\n          body: this.messageInSocket.msg,\n          createAt: Date.now(),\n          image: \"\",\n          isread: '0',\n          receiverid: this.messageInSocket.receiverId ,\n          secureIv: \"\",\n          secureKey: \"\",\n          senderId: this.messageInSocket.senderId,\n          type: this.messageInSocket.type,\n          audioFile: this.messageInSocket.audioFile\n        });\n      }      \n      this.scrollToBottomInChat();\n    })\n\n    this.storage.get('username').then((result) => {\n      this.userService.getSekretId(result).subscribe(responseUser => {\n        this.mySid = responseUser.user[0].sekretid;\n        this.myId = responseUser.user[0]._id;\n        this.currentUser = this.myId;\n        this.myUsername = responseUser.user[0].username;\n        this.planActive = responseUser.user[0].plan;\n        // For more vars\n\n        //Get Vars Contact User\n        this.userService.getUserNameBySekretId(this.sidContact).subscribe(responseContact => {\n          this.arrayContact = responseContact.user[0];\n          this.idContact = this.arrayContact._id\n          this.usernameContact = this.arrayContact.username;\n          this.notiIdContact = this.arrayContact.notificationId;\n          this.appid = this.arrayContact.appidn;\n          \n          // for more vars\n          this.generateSecureKeyAndIV();       \n          this.getRename();\n          this.loadData();\n            \n\n         // this.socket.fromEvent('messageP').subscribe()\n          \n        }) //end userService Contact\n\n      }) //end userService My Current user      \n    })\n  }\n\n  loadData(ev?){\n    this.page++;\n    let mmsg;\n    this.allMessages = {\n      sender: this.myId,\n      receiver: this.idContact,\n    }\n    this.part = {\n      senderId: this.myId,\n      receiverId: this.idContact\n    }\n\n    this.chatService.getCoversationid(this.part).subscribe( resConvId => {\n      this.toSocket = {\n        convId: resConvId.idConver,\n        msg: '',\n        type: '',\n        senderId: '',\n        receiverId: '',\n        audioFile: ''\n      }\n      this.socket.emit('send-message', { msg :  this.toSocket } );\n    })\n    console.log('PAGE', this.page);\n    console.log('PART', this.part);\n\n    this.chatService.getMessagesNew(this.allMessages,this.page).subscribe(responseChat=> {\n      \n      mmsg = responseChat.response;\n\n      mmsg.map(elem => {\n        this.messages.unshift(elem.message);\n      })\n      console.log('????????', this.messages)\n      if (ev) {\n        ev.target.complete();\n        if (responseChat.response.length === 0) {\n          ev.target.disabled = true;\n          this.page = 0;\n        }\n      }\n    })\n  }\n\n  async sendMessage(formChat: NgForm) {\n    let messageInput = this.message;\n    this.cipherMessage = await this.encrypt(messageInput);\n\n    this.messageBody = {\n      message: this.cipherMessage,\n      receiverid: this.idContact,\n      senderid: this.myId,\n      type: '1',\n      image: '',\n      secureKey: this.secureKEY,\n      secureIv: this.secureIV,\n      createAt: Date.now(),\n    }\n    this.chatService.getCoversationid(this.part).subscribe( resConvId => {\n      this.toSocket = {\n        convId: resConvId.idConver,\n        msg: this.cipherMessage,\n        type: this.messageBody.type,\n        senderId: this.myId,\n        receiverId: this.idContact,\n        audioFile: ''\n      }\n     // console.log('++++++++++++++', this.toSocket);\n      this.socket.emit('send-message',{ msg : this.toSocket } );      \n    })      \n    //sendMessage\n    this.chatService.send(this.messageBody).subscribe(responseSendMessage =>{\n    });\n    //send notification\n    this.pushService.sendPushNotification(this.notiIdContact).subscribe(responseNoti =>{});\n\n    this.notificate = {\n      apid : this.appid,\n      notid: this.notiIdContact\n    }\n    console.log(' / / / / / / / / / // ', this.notiIdContact);\n    this.pushService.sendPushNotificacionNew(this.notificate).subscribe(  resnoti => {\n      console.log(resnoti);\n    })\n\n    \n\n    this.message = '';\n\n\n\n  }//end Send Message\n\n  encrypt(data) {\n    console.log('###############', data)\n    const dat2 = data.toString();\n    this.cipher = AES.encrypt(JSON.stringify(data), this.key1).toString();\n    \n    return this.cipher;\n  }\n\n  decrypt(encryptedData) {\n    this.decodedMessage = AES.decrypt(encryptedData, this.key1).toString(utf8);\n    let obj = JSON.parse(this.decodedMessage.toString())\n    return obj;\n  }\n\n  async generateSecureKeyAndIV() {\n    this.secureKEY = await this.aes256.generateSecureKey(this.skey); // Returns a 32 bytes string\n    this.secureIV = await this.aes256.generateSecureIV(this.skey); // Returns a 16 bytes string\n  }\n\n  getRename() { // getContact Alias\n    let contacts = {\n      sidUser: this.mySid,\n      sidcontact: this.sidContact\n    }\n    this.contactsService.getAliasContact(contacts).subscribe(responseContacts => {\n      this.nameContact = responseContacts.alias\n    })\n  }\n\n  goToContacts() {\n    this.toResend = [];\n    this.checks = 'off' \n    this.router.navigate(['/contacts']);\n  }\n\n  scrollToBottomInChat() {\n    setTimeout(() => {\n      if (this.content.scrollToBottom) {\n        this.content.scrollToBottom(100);\n      }\n    }, 1000);\n  }\n\n  addSelectResend(msg){\n    console.log('Mensaje que ingresa desde el selct',msg);\n    this.toResend.push({\n      body: msg.body,\n      createAt: Date.now(),\n      image: msg.image,\n      isread: '0',\n      receiverid: msg.receiverId,\n      secureIv: this.secureIV,\n      secureKey: this.secureKEY,\n      senderId: this.myId,\n      type: msg.type,\n      audioFile: msg.audioFile\n    })\n    console.log('ARREGLO PARA ENVIAR', this.toResend);\n  }\n\n  presentSelect(){\n    this.checks = 'on'\n  }\n\n  async resendMessage(resendMessage){\n    console.log('ARREGLO PARA ENVIAR', this.toResend);\n    if (this.toResend.length > 0) {\n      console.log(\"L1 aaaa\", this.secureIV, \"l2aaa\", this.secureKEY);\n      const modal = await this.modalCtrl.create({\n        component: ModalContactsPage,\n        componentProps: {\n          'objMessage': this.toResend,\n          'l1': this.secureIV,\n          'l2': this.secureKEY,\n          'mySid' : this.mySid,\n        }\n      })\n      await modal.present(); \n      this.checks = 'off'; //finale line\n    }else{\n      this.presentToast('Debe seleccionar almenos un mensaje');\n    }\n    \n  }\n\n  canelResend(){\n    this.toResend = [];\n    console.log('ARREGLO CANCELAR', this.toResend);\n    this.checks = 'off'\n  }\n\n  async getContacts(resendMessage) {\n    const modal = await this.modalCtrl.create({\n      component: ModalContactsPage,\n      componentProps: {\n        'objMessage': resendMessage\n      }\n    })\n    await modal.present();\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastCtrl.create({\n      message,\n      duration: 3000,\n      position: 'middle'\n    });\n    toast.present();\n  }\n\n  logout() {\n    this.router.navigate(['/home']);\n  }\n\n  captureImage() {\n    // console.log(\"?? Accediendo a la camara\")\n    this.swcamera = 1;\n    this.userService.saveStateCamera(this.swcamera);\n    let sourceType = this.cameranew.PictureSourceType.CAMERA\n    var options: CameraOptions = {\n      quality: 50,\n      sourceType: sourceType,\n      saveToPhotoAlbum: false,\n      correctOrientation: true\n    };\n\n    this.cameranew.getPicture(options).then(imagePath => {\n\n      var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\n      var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\n      //this.copyFileToLocalDir2(correctPath, currentName, this.createFileName());\n      //this.copyFileToLocalDir(correctPath, currentName);\n      this.copytoNew(correctPath, currentName);\n      //  console.log('CORRECT PATH', correctPath);\n      // console.log('CURRENT NAME', currentName);\n\n    });\n    this.swcamera = '';\n  } //end capture Imnage\n\n  async copytoNew(path, namePic) {\n    // console.log('paso al metodo copiar  nuevo');\n    let fP;\n    let rs;\n    // console.log('PATH', path, 'PICCCCC', namePic);\n    fP = path + namePic;\n    this.dataResFiles = await this.upImage(fP);\n    //  console.log('image upload******', this.dataResFiles.name);\n\n    if (this.dataResFiles === '') {\n      setTimeout(() => {\n        //  console.log('paso al if')\n        rs = this.dataResFiles.name;\n        this.sendMessageImage(this.dataResFiles.name);\n      }, 1000);\n    } else {\n      // console.log('paso al ELSE')\n      this.sendMessageImage(this.dataResFiles.name);\n      rs = 'file:///storage/emulated/0/Pictures/';\n      this.file.removeFile(fP, namePic);\n    }\n  }\n\n  async upImage(file) {\n\n    let imageSennder = file;\n    let resultImageSender;\n    if (file != null) {\n      //send message was photo     \n      resultImageSender = await this.chatService.uploadimage(imageSennder);\n    } else {\n      this.showToast('se ha encontrado algun error');\n    }\n    return resultImageSender;\n  }\n\n  sendMessageImage(image) {\n    let imageRecive = image;\n    this.messageBody = {\n      message: imageRecive,\n      receiverid: this.idContact,\n      senderid: this.myId,\n      type: '2',\n      image: imageRecive,\n      secureKey: this.secureKEY,\n      secureIv: this.secureIV,\n      createAt: Date.now()\n    }\n\n    this.chatService.send(this.messageBody).subscribe(data => {\n      //message send\n    });\n\n    this.part = {\n      senderId: this.messageBody.senderid,\n      receiverId: this.messageBody.receiverid\n    }\n\n    this.chatService.getCoversationid(this.part).subscribe( resConvId => {\n      this.toSocket = {\n        convId: resConvId.idConver,\n        msg: this.cipherMessage,\n        type: this.messageBody.type,\n        senderId: this.myId,\n        receiverId: this.idContact,\n        audioFile: ''\n      }\n     \n      this.socket.emit('send-message',{ msg : this.toSocket } );      \n    }) \n\n    // this.socket.emit('send-message-image', { text: this.messageBody });\n    this.message = '';\n    //send notification\n    this.pushService.sendPushNotification(this.notiIdContact).subscribe(responseNoti =>{});\n\n    this.contactsService.getContactsId(this.mySid, this.sidContact).subscribe(res => {\n      this.idContacts = res;\n      this.idDef1 = this.idContacts.idDef;\n      let idde = this.idContacts.idDef2\n      this.contactsService.updatebadgeTalk(idde).subscribe(start => {\n        console.log('RESPONSE START ', start);\n      })\n      this.contactsService.updateBadge(this.idDef1).subscribe(test => {\n      })\n    })\n  }\n\n  async showToast(msg) {\n    let toast = await this.toastCtrl.create({\n      message: msg,\n      position: 'middle',\n      duration: 3000\n    });\n    toast.present();\n  }\n\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ModalContactsPage } from './modal-contacts.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [ModalContactsPage]\r\n})\r\nexport class ModalContactsPageModule {}\r\n","export default \".swip {\\n  color: #424242;\\n  font-size: 12px; }\\n\\n.backArrow {\\n  color: #424242; }\\n\\n.nameUser {\\n  font-weight: bold; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbW9kYWwtY29udGFjdHMvQzpcXFVzZXJzXFxOZW1lc3Npc1xcRGVza3RvcFxcZGV2XFxBYnJpbFxcZnN1L3NyY1xcYXBwXFxwYWdlc1xcbW9kYWwtY29udGFjdHNcXG1vZGFsLWNvbnRhY3RzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWM7RUFDZCxlQUFlLEVBQUE7O0FBR25CO0VBQ0ksY0FBYyxFQUFBOztBQUdsQjtFQUNJLGlCQUFpQixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbW9kYWwtY29udGFjdHMvbW9kYWwtY29udGFjdHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnN3aXB7XHJcbiAgICBjb2xvciA6IzQyNDI0MjtcclxuICAgIGZvbnQtc2l6ZTogMTJweDtcclxufVxyXG5cclxuLmJhY2tBcnJvd3tcclxuICAgIGNvbG9yOiAjNDI0MjQyO1xyXG59XHJcblxyXG4ubmFtZVVzZXJ7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufSJdfQ== */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { ContactsService } from 'src/app/services/contacts.service';\r\nimport { contactsCard } from '../../interfaces/contactsInterfaces';\r\nimport { UsersService } from 'src/app/services/users.service';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ToastController } from '@ionic/angular';\r\nimport { Platform } from '@ionic/angular';\r\nimport { Router } from '@angular/router';\r\nimport { PushService } from 'src/app/services/push.service';\r\n\r\nimport * as AES from 'crypto-js/aes';\r\nimport * as utf8 from 'crypto-js/enc-utf8';\r\nimport { Socket } from 'ngx-socket-io';\r\n\r\n@Component({\r\n  selector: 'app-modal-contacts',\r\n  templateUrl: './modal-contacts.page.html',\r\n  styleUrls: ['./modal-contacts.page.scss'],\r\n})\r\nexport class ModalContactsPage implements OnInit {\r\n  @Input() objMessage;\r\n  @Input() l1;\r\n  @Input() l2;\r\n  @Input() mySid;\r\n\r\n  contacts: contactsCard[] = [];\r\n  sid;\r\n  message = '';\r\n  sender;\r\n  receiver;\r\n  decodedMessage = '';\r\n  key1 = '123456789abcdefghijklmnopqrstuuvwxyz';\r\n  messageBody = {\r\n    message: '',\r\n    receiverid: '',\r\n    senderid: '',\r\n    type: '',\r\n    image: '',\r\n    secureKey: '',\r\n    secureIv: '',\r\n    createAt: Date.now()\r\n  }\r\n\r\n  idnot = '';\r\n  s2;\r\n  arrayuser2;\r\n\r\n  sen;\r\n  rec;\r\n  skem;\r\n\r\n  participants;\r\n  converationId;\r\n\r\nxxx;\r\ngr;\r\nidContacts;\r\nidDef1;\r\n\r\n\r\n\r\n  constructor(private modalCtrl: ModalController,\r\n    private contactsService: ContactsService,\r\n    private userService: UsersService,\r\n    private chatService: ChatService,\r\n    private toastCtrl: ToastController,\r\n    private platform: Platform,\r\n    private router: Router,\r\n    private pushService: PushService,\r\n    private socket: Socket,) {\r\n\r\n    platform.ready().then(() => {\r\n      this.platform.pause.subscribe(() => {\r\n        //  this.logout();\r\n      });\r\n      this.platform.resume.subscribe(() => {\r\n        console.log('[INFO] App resumed');\r\n        this.modalCtrl.dismiss();\r\n        //  this.logout();\r\n      });\r\n    })\r\n  }\r\n\r\n  ngOnInit() {\r\n    console.log('NEW PASSS', this.objMessage);\r\n    this.sid = this.mySid;\r\n    this.message = this.objMessage.msg;\r\n    this.receiver = this.objMessage.rec;\r\n    this.sender = this.objMessage.sen;\r\n    console.log(\"L1\", this.l1, \"l2\", this.l2);\r\n\r\n    this.contactsService.getContacts(this.sid).subscribe(response => {\r\n      this.contacts.push(...response.contacts);\r\n    });\r\n  }\r\n\r\n  logout() {\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n  exitWithOutArguments() {\r\n    this.modalCtrl.dismiss();\r\n  }\r\n\r\n  decrypt(encryptedData) {\r\n    this.decodedMessage = AES.decrypt(encryptedData, this.key1).toString(utf8);\r\n    let obj = JSON.parse(this.decodedMessage.toString())\r\n    return obj;\r\n  }\r\n\r\n  resendMessage(msg, sen, sIdC) {\r\n    \r\n    let reId;\r\n    let objectUser: any;\r\n    let idReciver;\r\n    this.userService.getUserNameBySekretId(sIdC).subscribe(responseReciver => {\r\n      objectUser = responseReciver.user[0];\r\n      this.idnot = objectUser.notificationId;\r\n      idReciver = objectUser._id;\r\n      this.messageBody = {\r\n        message: msg,\r\n        receiverid: idReciver,\r\n        senderid: sen,\r\n        type: '11',\r\n        image: '',\r\n        secureKey: '',\r\n        secureIv: '',\r\n        createAt: Date.now()\r\n      }\r\n\r\n      console.log('[INFO ]', this.messageBody);\r\n\r\n\r\n      this.pushService.sendPushNotification(this.idnot).subscribe(res => {\r\n      })\r\n      this.presentToast('El mensaje se ha reenviado con éxito');\r\n      this.modalCtrl.dismiss();\r\n    });\r\n  }\r\n\r\n  async presentToast(message: string) {\r\n    const toast = await this.toastCtrl.create({\r\n      message,\r\n      duration: 3500,\r\n      position: 'middle'\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n\r\n  resendMessageOwner(msg, sen, sIdC, sid2) {\r\n    console.log('message INNNNN', msg);\r\n    let reId;\r\n    let objectUser: any;\r\n    let idReciver;\r\n    console.log('SEKRET ID CONTACTO',sIdC);\r\n    console.log('SENDERRRRRRRR',sen);\r\n    this.userService.getUserNameBySekretId(sIdC).subscribe(responseReciver => {\r\n      objectUser = responseReciver.user[0];\r\n      idReciver = objectUser._id;\r\n      this.idnot = objectUser.notificationId;\r\n\r\n      this.userService.getUserNameBySekretId(sid2).subscribe(responseS => {\r\n        this.gr = responseS.user[0];\r\n        this.xxx = this.gr._id;\r\n        console.log('Mi IDDD EL QUE ENVIA', this.xxx);\r\n      \r\n        console.log('RECIBE EL MENSAJE', idReciver);\r\n      console.log('sekret ID OTRO USUARIO',sid2)\r\n\r\n      if (idReciver !== sen) {\r\n        console.log('****Son diferentes');\r\n        this.messageBody = {\r\n          message: msg,\r\n          receiverid: idReciver,\r\n          senderid: this.xxx,\r\n          type: '11',\r\n          image: '',\r\n          secureKey: '',\r\n          secureIv: '',\r\n          createAt: Date.now()\r\n        }\r\n\r\n        console.log('===MENSAJE===', this.messageBody);\r\n\r\n        console.log('sender',sen,'idReceiver', idReciver);\r\n\r\n        this.chatService.send(this.messageBody).subscribe(data => {\r\n          console.log('envio data', data);\r\n        });\r\n\r\n        this.pushService.sendPushNotification(this.idnot).subscribe(res => {\r\n        }) // send notification\r\n\r\n        /* Soket */\r\n        this.participants = {\r\n          senderId: idReciver,\r\n          receiverId: sen\r\n        }\r\n        this.chatService.getCoversationid(this.participants).subscribe(resConId => {\r\n          this.skem = {\r\n            convId: resConId.idConver,\r\n            msg: msg,\r\n            type: 11,\r\n            senderId: sen,\r\n            receiverId: idReciver,\r\n            audioFile: ''\r\n          }\r\n\r\n          //  console.log('***********************************', this.skem);\r\n          this.socket.emit('join', { msg: this.skem });\r\n        })\r\n        /*\r\n          End Socket\r\n        */\r\n\r\n        console.log('========1=============',sIdC , '==========1====', sid2);\r\n\r\n        this.contactsService.getContactsId(sid2, sIdC).subscribe(res => {\r\n          console.log('respuesta del servicio', res);\r\n          this.idContacts = res;\r\n          this.idDef1 = this.idContacts.idDef;\r\n          let idde = this.idContacts.idDef2\r\n        console.log('**************MY SEKRET ID', sIdC, 'RECEIVER ID SID', sid2,'**************', 'ID DEFFFFF', this.idDef1);\r\n          this.contactsService.updatebadgeTalk(idde).subscribe(start => {\r\n            console.log('RESPONSE START ', start);\r\n          })\r\n          this.contactsService.updateBadge(this.idDef1).subscribe(test => {\r\n  \r\n          console.log('RESPUESTA ACTUALIZACION BADGE', test);\r\n          })\r\n        })\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        this.presentToast('El mensaje se ha reenviado con éxito');\r\n        this.modalCtrl.dismiss();\r\n      } else {\r\n        this.userService.getUserNameBySekretId(sid2).subscribe(resrec => {\r\n          this.arrayuser2 = resrec.user[0];\r\n          this.s2 = this.arrayuser2._id;\r\n          this.rec = this.s2;\r\n\r\n          this.messageBody = {\r\n            message: msg,\r\n            receiverid: sen,\r\n            senderid: this.s2,\r\n            type: '11',\r\n            image: '',\r\n            secureKey: '',\r\n            secureIv: '',\r\n            createAt: Date.now()\r\n          }\r\n\r\n          this.chatService.send(this.messageBody).subscribe(data => {\r\n          });\r\n\r\n          /* Soket */\r\n          this.participants = {\r\n            senderId: sen,\r\n            receiverId: this.rec\r\n          }\r\n\r\n          this.chatService.getCoversationid(this.participants).subscribe(resConId => {\r\n            console.log('====(', resConId.idConver, ')=====');\r\n            this.skem = {\r\n              convId: resConId.idConver,\r\n              msg: msg,\r\n              type: 11,\r\n              senderId: sen,\r\n              receiverId: this.rec,\r\n              audioFile: ''\r\n            }\r\n            this.socket.emit('join', { msg: this.skem });\r\n\r\n          })\r\n          /*\r\n            End Socket\r\n          */\r\n          this.pushService.sendPushNotification(this.idnot).subscribe(res => {\r\n            // console.log('respuesta notificacion ', res);\r\n          }) // send notification\r\n\r\n          this.presentToast('El mensaje se ha reenviado con éxito');\r\n          this.modalCtrl.dismiss();\r\n        });\r\n\r\n\r\n        console.log('==========2===========',sIdC , '========2======', sid2);\r\n        this.contactsService.getContactsId(sid2, sIdC).subscribe(res => {\r\n          console.log('respuesta del servicio', res);\r\n          this.idContacts = res;\r\n          this.idDef1 = this.idContacts.idDef;\r\n          let idde = this.idContacts.idDef2\r\n        console.log('**************MY SEKRET ID', sIdC, 'RECEIVER ID SID', sid2,'**************', 'ID DEFFFFF', this.idDef1);\r\n          this.contactsService.updatebadgeTalk(idde).subscribe(start => {\r\n            console.log('RESPONSE START ', start);\r\n          })\r\n          this.contactsService.updateBadge(this.idDef1).subscribe(test => {\r\n  \r\n          console.log('RESPUESTA ACTUALIZACION BADGE', test);\r\n          })\r\n        })\r\n\r\n      }\r\n\r\n    });\r\n  });\r\n  }\r\n\r\n\r\n\r\n}\r\n"],"sourceRoot":"webpack:///","file":"pages-chat-new-chat-new-module-es5.js"}