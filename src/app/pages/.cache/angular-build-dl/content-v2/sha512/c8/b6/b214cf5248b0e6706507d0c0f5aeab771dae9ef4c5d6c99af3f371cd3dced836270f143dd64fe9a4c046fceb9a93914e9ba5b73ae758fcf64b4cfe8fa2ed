{"version":3,"sources":["src/app/pages/chat-new/chat-new.page.html","src/app/pages/chat-new/chat-new.module.ts","src/app/pages/chat-new/chat-new.page.scss","src/app/pages/chat-new/chat-new.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"warning\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"goToContacts()\\\">\\n      <ion-icon src=\\\"assets/icons/arrow-back.svg\\\"></ion-icon>\\n    </ion-button>\\n  </ion-buttons>\\n\\n  <ion-buttons class=\\\"\\\">\\n    <ion-avatar slot=\\\"\\\" color=\\\"warning\\\">\\n      <img src=\\\"../../../assets/avatars/av-10.png\\\" class=\\\"avatar\\\">\\n    </ion-avatar>\\n    <label class=\\\"username\\\">{{usernameContact}} ({{nameContact}})</label>\\n  </ion-buttons>\\n\\n  <ion-buttons slot=\\\"primary\\\">\\n    <ion-button  (click)=\\\"logout()\\\">\\n      <ion-icon  slot=\\\"end\\\" src=\\\"/assets/icons/power.svg\\\" class=\\\"icon-logout\\\" ></ion-icon>\\n    </ion-button>\\n  </ion-buttons>    \\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!--space to menu lateral rigth-->\\n</ion-content>\\n\\n\\n<ion-footer color=\\\"warning\\\">\\n  <ion-toolbar color=\\\"light\\\">\\n    <ion-row class=\\\"align-items-center\\\" class=\\\"ion-no-padding\\\">\\n      <ion-col size=\\\"10\\\">\\n        <textarea autosize maxRows=\\\"4\\\" [(ngModel)]=\\\"message\\\" class=\\\"message-input\\\"></textarea>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"warning\\\" [disabled]=\\\"message === ''\\\" class=\\\"msg-btn\\\"\\n          (click)=\\\"sendMessage()\\\">\\n          <ion-icon src=\\\"assets/icons/send.svg\\\" slot=\\\"icon-only\\\"></ion-icon>\\n        </ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-toolbar>\\n</ion-footer>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChatNewPage } from './chat-new.page';\nimport { AutosizeModule }  from 'ngx-autosize';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChatNewPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes),\n    AutosizeModule\n  ],\n  declarations: [ChatNewPage]\n})\nexport class ChatNewPageModule {}\n","export default \".avatar {\\n  width: 75%;\\n  height: 75%;\\n  margin-top: 10%; }\\n\\n.username {\\n  font-size: 13px; }\\n\\n.icon-logout {\\n  color: red;\\n  font-size: 20px; }\\n\\n.message-input {\\n  width: 100%;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff;\\n  resize: none;\\n  padding-left: 10px;\\n  padding-right: 10px; }\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC1uZXcvQzpcXFVzZXJzXFxOZW1lc3Npc1xcRGVza3RvcFxcZGV2XFxBYnJpbFxcZnN1L3NyY1xcYXBwXFxwYWdlc1xcY2hhdC1uZXdcXGNoYXQtbmV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQVU7RUFDVixXQUFXO0VBQ1gsZUFBZSxFQUFBOztBQUduQjtFQUNJLGVBQWMsRUFBQTs7QUFHbEI7RUFDRyxVQUFVO0VBQ1YsZUFBZSxFQUFBOztBQUdsQjtFQUNJLFdBQVc7RUFDWCx5Q0FBeUM7RUFDekMsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLG1CQUFtQixFQUFBOztBQUdyQjtFQUNFLHNCQUFnQjtFQUNoQixvQkFBYyxFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvY2hhdC1uZXcvY2hhdC1uZXcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YXRhcntcclxuICAgIHdpZHRoOiA3NSU7XHJcbiAgICBoZWlnaHQ6IDc1JTtcclxuICAgIG1hcmdpbi10b3A6IDEwJTtcclxufVxyXG5cclxuLnVzZXJuYW1le1xyXG4gICAgZm9udC1zaXplOjEzcHg7XHJcbn1cclxuXHJcbi5pY29uLWxvZ291dHtcclxuICAgY29sb3I6IHJlZDtcclxuICAgZm9udC1zaXplOiAyMHB4O1xyXG59XHJcblxyXG4ubWVzc2FnZS1pbnB1dCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xyXG4gIH1cclxuXHJcbiAgLm1zZy1idG4ge1xyXG4gICAgLS1wYWRkaW5nLXN0YXJ0OiAwLjVlbTtcclxuICAgIC0tcGFkZGluZy1lbmQ6IDAuNWVtO1xyXG4gIH0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { UsersService } from 'src/app/services/users.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ContactsService } from 'src/app/services/contacts.service';\nimport { ChatService } from 'src/app/services/chat.service';\nimport { NgForm } from '@angular/forms';\nimport * as utf8 from 'crypto-js/enc-utf8';\nimport * as AES from 'crypto-js/aes';\nimport { AES256 } from '@ionic-native/aes-256/ngx';\nimport { environment } from 'src/environments/environment';\nimport { PushService } from 'src/app/services/push.service';\nimport { Socket } from 'ngx-socket-io';\n\n@Component({\n  selector: 'app-chat-new',\n  templateUrl: './chat-new.page.html',\n  styleUrls: ['./chat-new.page.scss'],\n})\nexport class ChatNewPage implements OnInit {\n  // vars Current User\n  mySid;\n  myId;\n  myUsername;\n  mytest;\n\n  //vars Receiver User\n  arrayContact;\n  sidContact;\n  idContact;\n  usernameContact;\n  nameContact;\n  notiIdContact;\n\n  //varsMessages\n  page;\n  participants = {\n    sender: '',\n    receiver: ''\n  }\n  part = {\n    senderId: '',\n    receiverId: ''\n  }\n  messages = [];\n  message = '';\n  cipherMessage='';\n  cipher='';\n  key1 = '123456789abcdefghijklmnopqrstuuvwxyz';\n  decodedMessage ='';\n  private secureKEY: string;\n  private secureIV: string;\n  skey: string = environment.sekretKey;\n  messageBody = {\n    message: '',\n    receiverid: '',\n    senderid: '',\n    type: '',\n    image: '',\n    secureKey: '',\n    secureIv: '',\n    createAt: Date.now(),\n  }\n  toSocket = {\n    convId: '',\n    msg: '',\n    type: '',\n    senderId: '',\n    receiverId: '',\n    audioFile: ''\n  }\n\n  constructor(private storage: Storage,\n    private userService: UsersService,\n    private activatedRoute: ActivatedRoute,\n    private contactsService: ContactsService,\n    private router: Router,\n    private chatService: ChatService,\n    private aes256: AES256,\n    private pushService: PushService,\n    private socket: Socket,) { }\n\n  ngOnInit() {\n    this.socket.connect();\n    this.sidContact = this.activatedRoute.snapshot.paramMap.get('hash');\n    //Get Var current User\n    this.storage.get('username').then((result) => {\n      this.userService.getSekretId(result).subscribe(responseUser => {\n        this.mySid = responseUser.user[0].sekretid;\n        this.myId = responseUser.user[0]._id;\n        this.myUsername = responseUser.user[0].username;\n        // For more vars\n\n        //Get Vars Contact User\n        this.userService.getUserNameBySekretId(this.sidContact).subscribe(responseContact => {\n          this.arrayContact = responseContact.user[0];\n          this.idContact = this.arrayContact._id\n          this.usernameContact = this.arrayContact.username;\n          this.notiIdContact = this.arrayContact.notificationId;\n          // for more vars\n          this.getRename();\n          this.loadData();\n          this.generateSecureKeyAndIV();\n\n          this.socket.fromEvent('privateMessage').subscribe(responseSockPriv => {\n            console.log('Respuesta SOcket',responseSockPriv);\n          })\n\n          this.socket.fromEvent('messageP').subscribe(resSockMessage => {\n            console.log(\"@@@@@@@@@@@@@@@@@@@@\", resSockMessage);\n          })\n\n          \n        }) //end userService Contact\n\n      }) //end userService My Current user      \n    })\n  } //end on init\n\n  loadData(ev?){\n    this.page++;\n    let mmsg;\n    this.participants={\n      sender: this.myId,\n      receiver: this.idContact\n    }\n    this.part = {\n      senderId: this.myId,\n      receiverId: this.idContact\n    }\n\n    this.chatService.getCoversationid(this.part).subscribe( resConvId => {\n      console.log('& & & & & & &  & & & ', resConvId.idConver);\n      this.socket.emit('enterRoom', { data : resConvId.idConver } );\n    })\n\n    this.chatService.getMessagesNew(this.participants,this.page).subscribe(responseChat=> {\n      mmsg = responseChat.response;\n      mmsg.map(elem => {\n        this.messages.unshift(elem.messages);\n      })\n      if (ev) {\n        ev.target.complete();\n        if (responseChat.response.length === 0) {\n          ev.target.disabled = true;\n          this.page = 0;\n        }\n      }\n    })\n  }\n\n  async sendMessage(formChat: NgForm) {\n    let messageInput = this.message;\n    this.cipherMessage = await this.encrypt(messageInput);\n\n    this.messageBody = {\n      message: this.cipherMessage,\n      receiverid: this.idContact,\n      senderid: this.myId,\n      type: '1',\n      image: '',\n      secureKey: this.secureKEY,\n      secureIv: this.secureIV,\n      createAt: Date.now(),\n    }\n\n    \n    //sendMessage\n    this.chatService.send(this.messageBody).subscribe(responseSendMessage =>{\n    });\n    \n    this.chatService.getCoversationid(this.part).subscribe( resConvId => {\n      this.toSocket = {\n        convId: resConvId.idConver,\n        msg: this.cipherMessage,\n        type: this.messageBody.type,\n        senderId: this.myId,\n        receiverId: this.idContact,\n        audioFile: ''\n      }\n      console.log('++++++++++++++', this.toSocket);\n      this.socket.emit('privateMessage', this.toSocket);\n    })    \n\n    //send notification\n    this.pushService.sendPushNotification(this.notiIdContact).subscribe(responseNoti =>{})\n  //  console.log('====+++====', this.messageBody);\n\n  }//end Send Message\n\n  encrypt(data) {\n    const dat2 = data.toString();\n    this.cipher = AES.encrypt(JSON.stringify(data), this.key1).toString();\n    \n    return this.cipher;\n  }\n\n  decrypt(encryptedData) {\n    this.decodedMessage = AES.decrypt(encryptedData, this.key1).toString(utf8);\n    return this.decodedMessage;\n  }\n\n  async generateSecureKeyAndIV() {\n    this.secureKEY = await this.aes256.generateSecureKey(this.skey); // Returns a 32 bytes string\n    this.secureIV = await this.aes256.generateSecureIV(this.skey); // Returns a 16 bytes string\n  }\n\n  getRename() { // getContact Alias\n    let contacts = {\n      sidUser: this.mySid,\n      sidcontact: this.sidContact\n    }\n    this.contactsService.getAliasContact(contacts).subscribe(responseContacts => {\n      this.nameContact = responseContacts.alias\n    })\n  }\n\n  goToContacts() {\n    this.router.navigate(['/contacts']);\n  }\n\n}\n\n\n//this.receiverSid ="],"sourceRoot":"webpack:///","file":"pages-chat-new-chat-new-module-es5.js"}