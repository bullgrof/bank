{"version":3,"sources":["src/app/pages/callreply/callreply.page.html","src/app/pages/callreply/callreply.module.ts","src/app/pages/callreply/callreply.page.scss","src/app/pages/callreply/callreply.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>callreply</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n{{ partner }}\\n<div id=\\\"errorMsg\\\"></div>\\n<video id=\\\"partner-video\\\" (click)=\\\"swapVideo('my-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'partner-video', 'main-video': topVideoFrame != 'partner-video'}\\\">\\n  </video>\\n  <video id=\\\"my-video\\\" (click)=\\\"swapVideo('partner-video')\\\" autoplay playsinline\\n    [ngClass]=\\\"{'top-video': topVideoFrame === 'my-video', 'main-video': topVideoFrame != 'my-video'}\\\" >\\n  </video>\\n\\n  <ion-row nowrap>\\n    <ion-button (click)=\\\"inita()\\\">Login As: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userId\\\" placeholder=\\\"enter your nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>\\n\\n  <ion-row nowrap>\\n    <ion-button (click)=\\\"calla()\\\">Call To: </ion-button>\\n    <ion-item>\\n      <ion-input type=\\\"text\\\" [(ngModel)]=\\\"partnerId\\\" placeholder=\\\"your partner nick name\\\"></ion-input>\\n    </ion-item>\\n  </ion-row>  \\n\\n\\n\\n\\n\\n\\n\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CallreplyPage } from './callreply.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CallreplyPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CallreplyPage]\n})\nexport class CallreplyPageModule {}\n","export default \".top-video {\\n  position: absolute;\\n  top: 100px;\\n  right: 100px;\\n  max-width: 100px;\\n  z-index: 2;\\n}\\n\\n.main-video {\\n  width: 100%;\\n  max-height: 70%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2FsbHJlcGx5L0M6XFxVc2Vyc1xcTmVtZXNzaXNcXERlc2t0b3BcXHByb2plY3RzXFxqdW5pb1xcY2FsbHNcXGZzdSAtIENvcHkvc3JjXFxhcHBcXHBhZ2VzXFxjYWxscmVwbHlcXGNhbGxyZXBseS5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2NhbGxyZXBseS9jYWxscmVwbHkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLGVBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2NhbGxyZXBseS9jYWxscmVwbHkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRvcC12aWRlb3tcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMTAwcHg7XHJcbiAgICByaWdodDogMTAwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDEwMHB4O1xyXG4gICAgei1pbmRleDogMjtcclxufVxyXG5cclxuLm1haW4tdmlkZW97XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG1heC1oZWlnaHQ6IDcwJTtcclxufSIsIi50b3AtdmlkZW8ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMTAwcHg7XG4gIHJpZ2h0OiAxMDBweDtcbiAgbWF4LXdpZHRoOiAxMDBweDtcbiAgei1pbmRleDogMjtcbn1cblxuLm1haW4tdmlkZW8ge1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LWhlaWdodDogNzAlO1xufSJdfQ== */\"","import { Component, OnInit, ElementRef } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PushService } from 'src/app/services/push.service';\nimport { UsersService } from 'src/app/services/users.service';\nimport { WebrtcService } from 'src/app/services/webrtc.service';\n\n@Component({\n  selector: 'app-callreply',\n  templateUrl: './callreply.page.html',\n  styleUrls: ['./callreply.page.scss'],\n})\nexport class CallreplyPage implements OnInit {\n  partner;\n  topVideoFrame = 'partner-video';\n  userId: string;\n  partnerId: string;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n  myPartner;\n  callerId;\n  \n  /*VARS CONTROOL */\n  arrayContact;\n  usernameContact;\n  notiIdContact;\n  appid;\n\n  notificate = {\n    apid: '',\n    notid: '',\n    partnerId: '',\n    sid: ''\n  }\n\n\n  constructor(\n    private activatedRoute : ActivatedRoute,\n    private router: Router,\n    public elRef: ElementRef,\n    public webRTC: WebrtcService,\n    private userService : UsersService,\n    private PushService : PushService\n  ) { }\n\n  ngOnInit() {\n    this.partner = this.activatedRoute.snapshot.paramMap.get('par');\n    this.myPartner = this.makeid(35);\n    this.inita(this.partner);\n   // this.call(this.partner);\n    \n    console.log('** *** ** ', this.partner, '++ +++ ++ +++ ++');\n    /* CREATE AN NOTIFICATION */\n    this.userService.getUserNameBySekretId(this.callerId).subscribe(responseContact => {\n      console.log('99999999999999999', responseContact.user );\n      this.arrayContact = responseContact.user[0];\n      console.log('1111 11111 1111 111 1111 11', responseContact);\n     // this.idContact = this.arrayContact._id;\n      this.usernameContact = this.arrayContact.username;\n      this.notiIdContact = this.arrayContact.notificationId;\n      this.appid = this.arrayContact.appidn;\n\n      this.notificate = {\n        apid: this.appid,\n        notid: this.notiIdContact,\n        partnerId: this.myPartner,\n        sid: this.callerId\n      }\n      console.log('- - - - - - - - - - - - - - - - - - - - -')\n      this.PushService.sendPushRepplyCall(this.notificate).subscribe(rsPush=>{\n        console.log('..:::..:::..::..:::',rsPush,':::..:::..:::..::::');\n      })\n    })\n    /* END CREATE NOTIFICATION */\n  }\n\n  init() {\n    this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n    this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n    this.webRTC.init(this.userId, this.myEl, this.partnerEl);\n  }\n\n  inita(partnerMy) {\n    console.log('==== USUARIO QUE INICIA', this.userId);\n    this.myEl = this.elRef.nativeElement.querySelector('#my-video');\n    this.partnerEl = this.elRef.nativeElement.querySelector('#partner-video');\n    this.webRTC.init(partnerMy, this.myEl, this.partnerEl);\n  }\n\n\n  makeid(length) {\n    let result = '';\n    let characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n      result += characters.charAt(Math.floor(Math.random() *\n        charactersLength));\n    }\n    return result;\n  }\n\n  \n  call(partnerIncoming) {\n    this.webRTC.call(partnerIncoming);\n    this.swapVideo('my-video');\n  }\n\n  calla() {\n    console.log('***** USUARIO QUE LLAMA', this.partnerId);\n    this.webRTC.call(this.partnerId);\n    this.swapVideo('my-video');\n  }\n\n  swapVideo(topVideo: string) {\n    this.topVideoFrame = topVideo;\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"pages-callreply-callreply-module-es5.js"}