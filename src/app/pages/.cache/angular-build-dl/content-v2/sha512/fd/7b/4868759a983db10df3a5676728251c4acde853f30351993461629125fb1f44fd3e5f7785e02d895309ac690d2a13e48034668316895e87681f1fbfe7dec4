{"version":3,"sources":["src/app/pages/chat-group/chat-group.page.html","src/app/pages/chat-group/chat-group.module.ts","src/app/pages/chat-group/chat-group.page.scss","src/app/pages/chat-group/chat-group.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"warning\\\">\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <!--ion-button (click)=\\\"navigate()\\\"-->\\r\\n      <ion-button [routerLink]=\\\"['/groups']\\\">\\r\\n        <ion-icon name=\\\"arrow-back-outline\\\"></ion-icon>\\r\\n      </ion-button>     \\r\\n    </ion-buttons>\\r\\n\\r\\n    <ion-buttons class=\\\"buttonmiddle\\\">\\r\\n      <ion-avatar slot=\\\"\\\" color=\\\"warning\\\">\\r\\n        <img src=\\\"../../../assets/avatars/group.png\\\" class=\\\"avatar11\\\">\\r\\n      </ion-avatar>\\r\\n      <label class=\\\"username1\\\">  {{nameGroup}}   </label>\\r\\n    </ion-buttons>\\r\\n    \\r\\n    <ion-buttons slot=\\\"primary\\\">      \\r\\n      <ion-button color=\\\"danger\\\" (click)=\\\"logout()\\\">        \\r\\n        <ion-icon slot=\\\"end\\\" ios=\\\"power\\\" md=\\\"power\\\" color=\\\"white\\\"></ion-icon>\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n    \\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content  #scrollElement padding [scrollEvents]=\\\"true\\\">\\r\\n \\r\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\" color=\\\"warning\\\" *ngIf=\\\"planActive === 'Plan Plus'\\\">\\r\\n    <ion-fab-button class=\\\"ios ion-activatable ion-focusable hydrated\\\" color=\\\"warning\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n    <ion-fab-list side=\\\"\\\">\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Cámara\\\" (click)=\\\"captureImage()\\\">\\r\\n        <ion-icon name=\\\"camera\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo facebook\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Galería\\\" (click)=\\\"imageGallery()\\\">\\r\\n        <ion-icon name=\\\"image\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo twitter\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <!--ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Enviar al Baúl\\\" (click)=\\\"sendTrunk()\\\">\\r\\n        <ion-icon name=\\\"lock-closed\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo twitter\\\"></ion-icon>\\r\\n      </ion-fab-button>\\r\\n\\r\\n      <ion-fab-button color=\\\"warning\\\"  data-desc=\\\"Eliminar mensajes\\\" (click)=\\\"deleteMeessages()\\\">\\r\\n        <ion-icon name=\\\"trash\\\" role=\\\"img\\\" class=\\\"ios hydrated\\\" aria-label=\\\"logo vimeo\\\"></ion-icon>\\r\\n      </ion-fab-button-->\\r\\n      \\r\\n    </ion-fab-list>\\r\\n  </ion-fab>\\r\\n\\r\\n\\r\\n\\r\\n  <ion-row *ngFor=\\\"let message of messages; let i = index\\\" >\\r\\n\\r\\n    <ion-col size=\\\"9\\\" *ngIf=\\\"message.senderId !== userId && message.type === '2' && message.body !== ''\\\" class=\\\"message other-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <span> {{ decrypt(message.body) }} </span>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"9\\\" offset=\\\"3\\\" *ngIf=\\\"message.senderId === userId && message.type === '2'\\\" class=\\\"message my-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <span> {{ decrypt(message.body) }} </span>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"11\\\" *ngIf=\\\"message.senderId !== userId && message.type === '3'\\\" class=\\\"message other-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div> \\r\\n      <ion-img [src]=\\\"message.body | image\\\" (click)=\\\"openGallery(message.body)\\\"></ion-img>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short' }} </div>      \\r\\n    </ion-col>\\r\\n\\r\\n    <ion-col size=\\\"11\\\" offset=\\\"1\\\" *ngIf=\\\"message.senderId === userId && message.type === '3'\\\" class=\\\"message my-message\\\">\\r\\n      <div class=\\\"user\\\">{{ message.username }}</div>\\r\\n      <ion-img [src]=\\\"message.body | image\\\" (click)=\\\"openGallery(message.body)\\\"></ion-img>\\r\\n      <div class=\\\"mess text-right\\\">{{ message.createAt  | date:'short'}} </div>   \\r\\n    </ion-col>\\r\\n\\r\\n  </ion-row>\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer color=\\\"warning\\\">\\r\\n  <ion-toolbar color=\\\"light\\\">\\r\\n    <ion-row class=\\\"align-items-center\\\">\\r\\n    <ion-col size=\\\"10\\\">\\r\\n        <ion-textarea auto-grow class=\\\"message-input\\\" rows=\\\"1\\\" [(ngModel)]=\\\"message\\\" ></ion-textarea><!--(click)=\\\"activeTape()\\\"-->\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"2\\\">\\r\\n        <ion-button expand=\\\"block\\\" fill=\\\"clear\\\" color=\\\"warning\\\" [disabled]=\\\"message === ''\\\" class=\\\"msg-btn\\\"\\r\\n          (click)=\\\"sendMessage()\\\">\\r\\n          <ion-icon name=\\\"send-outline\\\" slot=\\\"icon-only\\\" class=\\\"boton-send\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ChatGroupPage } from './chat-group.page';\r\n\r\nimport { PipesModule } from 'src/app/pipes/pipes.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ChatGroupPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    PipesModule\r\n  ],\r\n  declarations: [ChatGroupPage]\r\n})\r\nexport class ChatGroupPageModule {}\r\n","export default \".message-input {\\n  margin-top: 0px;\\n  border: 1px solid var(--ion-color-medium);\\n  border-radius: 10px;\\n  background: #fff;\\n}\\n\\n.msg-btn {\\n  --padding-start: 0.5em;\\n  --padding-end: 0.5em;\\n}\\n\\n.message {\\n  padding: 10px;\\n  border-radius: 10px;\\n  margin-bottom: 4px;\\n  white-space: pre-wrap;\\n}\\n\\n.my-message {\\n  background: #dddbdb;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid;\\n}\\n\\n.other-message {\\n  background: #ffffff;\\n  color: #000000;\\n  border-color: #c0c0c0;\\n  border-width: thin;\\n  border-style: solid;\\n}\\n\\n.username {\\n  font-size: small;\\n  margin-left: 7px;\\n}\\n\\n.decode {\\n  color: #dfdfdf;\\n  float: right;\\n  font-size: 10px;\\n}\\n\\n.text-right {\\n  color: #000000;\\n}\\n\\n.mess {\\n  color: #000000;\\n  font-size: 10px;\\n  margin-top: 3px;\\n}\\n\\n.avatar11 {\\n  width: 43px;\\n  height: 43px;\\n  margin-top: 13px;\\n}\\n\\nion-fab-button[data-desc] {\\n  position: relative;\\n}\\n\\nion-fab-button[data-desc]::after {\\n  position: absolute;\\n  content: attr(data-desc);\\n  z-index: 1;\\n  right: 55px;\\n  bottom: 4px;\\n  background-color: var(--ion-color-dark);\\n  padding: 9px;\\n  border-radius: 15px;\\n  color: white;\\n  box-shadow: 0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvY2hhdC1ncm91cC9DOlxcVXNlcnNcXE5lbWVzc2lzXFxEZXNrdG9wXFxwcm9qZWN0c1xcanVuaW9cXGZzdS9zcmNcXGFwcFxccGFnZXNcXGNoYXQtZ3JvdXBcXGNoYXQtZ3JvdXAucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9jaGF0LWdyb3VwL2NoYXQtZ3JvdXAucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLHlDQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVFO0VBQ0Usc0JBQUE7RUFDQSxvQkFBQTtBQ0NKOztBREdFO0VBQ0UsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQ0FKOztBREdFO0VBQ0UsbUJBQUE7RUFDQSxjQUFBO0VBRUEscUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDREo7O0FES0U7RUFDRSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNGSjs7QURNRTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUNISjs7QURNQTtFQUNFLGNBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtBQ0hGOztBRE1BO0VBQ0UsY0FBQTtBQ0hGOztBRE1BO0VBQ0UsY0FBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FDSEY7O0FETUE7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDSEY7O0FET0E7RUFDRSxrQkFBQTtBQ0pGOztBRE9BO0VBQ0Usa0JBQUE7RUFDQSx3QkFBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLHVDQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGlIQUFBO0FDSkYiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9jaGF0LWdyb3VwL2NoYXQtZ3JvdXAucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1lc3NhZ2UtaW5wdXQge1xyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZjtcclxuICB9XHJcblxyXG4gIC5tc2ctYnRuIHtcclxuICAgIC0tcGFkZGluZy1zdGFydDogMC41ZW07XHJcbiAgICAtLXBhZGRpbmctZW5kOiAwLjVlbTtcclxuICB9XHJcblxyXG5cclxuICAubWVzc2FnZSB7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDRweDtcclxuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcclxuICB9XHJcblxyXG4gIC5teS1tZXNzYWdlIHtcclxuICAgIGJhY2tncm91bmQ6ICNkZGRiZGI7XHJcbiAgICBjb2xvcjogIzAwMDAwMDtcclxuXHJcbiAgICBib3JkZXItY29sb3I6ICNjMGMwYzA7XHJcbiAgICBib3JkZXItd2lkdGg6IHRoaW47XHJcbiAgICBib3JkZXItc3R5bGU6IHNvbGlkO1xyXG4gIFxyXG4gIH1cclxuICAgXHJcbiAgLm90aGVyLW1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZDogI2ZmZmZmZjtcclxuICAgIGNvbG9yOiAjMDAwMDAwO1xyXG4gICAgYm9yZGVyLWNvbG9yOiAjYzBjMGMwO1xyXG4gICAgYm9yZGVyLXdpZHRoOiB0aGluO1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuXHJcbiAgfVxyXG5cclxuICAudXNlcm5hbWV7XHJcbiAgICBmb250LXNpemU6IHNtYWxsO1xyXG4gICAgbWFyZ2luLWxlZnQ6IDdweDtcclxufVxyXG5cclxuLmRlY29kZSB7XHJcbiAgY29sb3I6ICNkZmRmZGY7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxufVxyXG5cclxuLnRleHQtcmlnaHR7XHJcbiAgY29sb3I6ICMwMDAwMDA7XHJcbn1cclxuXHJcbi5tZXNze1xyXG4gIGNvbG9yOiAjMDAwMDAwO1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBtYXJnaW4tdG9wOiAzcHg7XHJcbn1cclxuXHJcbi5hdmF0YXIxMXtcclxuICB3aWR0aDogNDNweDtcclxuICBoZWlnaHQ6IDQzcHg7XHJcbiAgbWFyZ2luLXRvcDogMTNweDtcclxufVxyXG5cclxuXHJcbmlvbi1mYWItYnV0dG9uW2RhdGEtZGVzY10ge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuaW9uLWZhYi1idXR0b25bZGF0YS1kZXNjXTo6YWZ0ZXIge1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICBjb250ZW50OiBhdHRyKGRhdGEtZGVzYyk7XHJcbiAgei1pbmRleDogMTtcclxuICByaWdodDogNTVweDtcclxuICBib3R0b206IDRweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XHJcbiAgcGFkZGluZzogOXB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIGJveC1zaGFkb3c6IDAgM3B4IDVweCAtMXB4IHJnYmEoMCwwLDAsMC4yKSwgMCA2cHggMTBweCAwIHJnYmEoMCwwLDAsMC4xNCksIDAgMXB4IDE4cHggMCByZ2JhKDAsMCwwLDAuMTIpO1xyXG59IiwiLm1lc3NhZ2UtaW5wdXQge1xuICBtYXJnaW4tdG9wOiAwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1tZWRpdW0pO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kOiAjZmZmO1xufVxuXG4ubXNnLWJ0biB7XG4gIC0tcGFkZGluZy1zdGFydDogMC41ZW07XG4gIC0tcGFkZGluZy1lbmQ6IDAuNWVtO1xufVxuXG4ubWVzc2FnZSB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG1hcmdpbi1ib3R0b206IDRweDtcbiAgd2hpdGUtc3BhY2U6IHByZS13cmFwO1xufVxuXG4ubXktbWVzc2FnZSB7XG4gIGJhY2tncm91bmQ6ICNkZGRiZGI7XG4gIGNvbG9yOiAjMDAwMDAwO1xuICBib3JkZXItY29sb3I6ICNjMGMwYzA7XG4gIGJvcmRlci13aWR0aDogdGhpbjtcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbn1cblxuLm90aGVyLW1lc3NhZ2Uge1xuICBiYWNrZ3JvdW5kOiAjZmZmZmZmO1xuICBjb2xvcjogIzAwMDAwMDtcbiAgYm9yZGVyLWNvbG9yOiAjYzBjMGMwO1xuICBib3JkZXItd2lkdGg6IHRoaW47XG4gIGJvcmRlci1zdHlsZTogc29saWQ7XG59XG5cbi51c2VybmFtZSB7XG4gIGZvbnQtc2l6ZTogc21hbGw7XG4gIG1hcmdpbi1sZWZ0OiA3cHg7XG59XG5cbi5kZWNvZGUge1xuICBjb2xvcjogI2RmZGZkZjtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBmb250LXNpemU6IDEwcHg7XG59XG5cbi50ZXh0LXJpZ2h0IHtcbiAgY29sb3I6ICMwMDAwMDA7XG59XG5cbi5tZXNzIHtcbiAgY29sb3I6ICMwMDAwMDA7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgbWFyZ2luLXRvcDogM3B4O1xufVxuXG4uYXZhdGFyMTEge1xuICB3aWR0aDogNDNweDtcbiAgaGVpZ2h0OiA0M3B4O1xuICBtYXJnaW4tdG9wOiAxM3B4O1xufVxuXG5pb24tZmFiLWJ1dHRvbltkYXRhLWRlc2NdIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG5pb24tZmFiLWJ1dHRvbltkYXRhLWRlc2NdOjphZnRlciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgY29udGVudDogYXR0cihkYXRhLWRlc2MpO1xuICB6LWluZGV4OiAxO1xuICByaWdodDogNTVweDtcbiAgYm90dG9tOiA0cHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgcGFkZGluZzogOXB4O1xuICBib3JkZXItcmFkaXVzOiAxNXB4O1xuICBjb2xvcjogd2hpdGU7XG4gIGJveC1zaGFkb3c6IDAgM3B4IDVweCAtMXB4IHJnYmEoMCwgMCwgMCwgMC4yKSwgMCA2cHggMTBweCAwIHJnYmEoMCwgMCwgMCwgMC4xNCksIDAgMXB4IDE4cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, ChildActivationStart, Router } from '@angular/router';\r\nimport { ChatGroupService } from '../../services/chat-group.service';\r\nimport * as utf8 from 'crypto-js/enc-utf8';\r\nimport * as AES from 'crypto-js/aes';\r\nimport { AES256 } from '@ionic-native/aes-256/ngx';\r\nimport { Storage } from '@ionic/storage';\r\nimport { UsersService } from '../../services/users.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Socket } from 'ngx-socket-io';\r\nimport { IonContent } from '@ionic/angular';\r\nimport { File, FileEntry } from '@ionic-native/File/ngx';\r\n\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\nimport { PushService } from 'src/app/services/push.service';\r\nimport { ChatService } from 'src/app/services/chat.service';\r\nimport { ToastController, Platform, IonRange } from '@ionic/angular';\r\nimport { ActionSheetController, NavController, ModalController } from '@ionic/angular';\r\nimport { WebView } from '@ionic-native/ionic-webview/ngx';\r\n\r\n\r\n\r\nimport { ImageModalPage } from '../image-modal/image-modal.page';\r\n\r\n\r\ndeclare var window;\r\nconst STORAGE_KEY = 'my_images';\r\n\r\n@Component({\r\n  selector: 'app-chat-group',\r\n  templateUrl: './chat-group.page.html',\r\n  styleUrls: ['./chat-group.page.scss'],\r\n})\r\nexport class ChatGroupPage implements OnInit {\r\n\r\n  @ViewChild('scrollElement', { static: false }) content: IonContent;\r\n  idgroup;\r\n  nameGroup;\r\n  usernameStorage;\r\n  userId;\r\n  nameUser;\r\n  participants ;\r\n  // MESAGE vars\r\n  message = '';\r\n  arrmsgs;\r\n  messages = [];\r\n  pa = []\r\n  //cipher\r\n  cipher;\r\n  skey: string = environment.sekretKey;\r\n  sh1 = '123456789abcdefghijklmnopqrstuuvwxyz';\r\n  cipherMessage;\r\n  secureKEY;\r\n  secureIV;\r\n  decodedMessage;\r\n\r\n//socket\r\nskem;\r\nsocketIn;\r\nshow = true;\r\n\r\n//Media\r\nswcamera;\r\ndataResFiles: any = [];\r\nfpath\r\nresult22;\r\nimages = [];\r\nplanActive;\r\n\r\n\r\n//push\r\n\r\n  constructor(private activatedRoute: ActivatedRoute,\r\n    private socket: Socket,\r\n    private groupService: ChatGroupService,\r\n    private storage: Storage,\r\n    private userService: UsersService,\r\n    private aes256: AES256,\r\n    private cameranew: Camera,\r\n    private file: File,\r\n    private pushService: PushService,\r\n    private chatService: ChatService,\r\n    private toastCtrl: ToastController,\r\n    private modalCtrl: ModalController,\r\n    private webview: WebView,\r\n    private router: Router,\r\n    private platform: Platform,) { }\r\n\r\n  ngOnInit() {\r\n    this.socket.connect();\r\n    this.idgroup = this.activatedRoute.snapshot.paramMap.get('idgroup');\r\n    this.getMessages(this.idgroup);\r\n    window.menu.ngOnInit();\r\n    this.storage.get('username').then((result) => {\r\n      this.usernameStorage = result;\r\n\r\n      this.userService.getSekretId(this.usernameStorage).subscribe(response => {\r\n        this.userId = response.user[0]._id;\r\n        this.nameUser = response.user[0].username;\r\n        this.planActive = response.user[0].plan;\r\n        this.updateReadMessage();\r\n        console.log('<<<<<<<[Plan Active]>>>>>>', this.planActive); \r\n      })\r\n    })\r\n    \r\n    this.platform.ready().then(() => {\r\n     // this.qrScanner.hide();\r\n\r\n      this.platform.pause.subscribe(() => {\r\n        console.log(\"[INFO] PAUSE\");\r\n\r\n        \r\n\r\n      });\r\n\r\n      this.platform.resume.subscribe(() => {\r\n        console.log('[INFO] RESUME');\r\n        this.storage.get('stateCamera').then((result) => {\r\n          console.log('[INFO] STATE CAMERA : ', result);\r\n          if (result === 1) {\r\n            console.log('[INFO]: Se esta usando la camara NO CERRAR');\r\n            this.userService.saveStateCamera(0);\r\n          } else {\r\n            console.log('[INFO]: Mandar al Login');\r\n            this.logout();\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    this.skem = {\r\n      convId : this.idgroup,\r\n      msg: '',\r\n      type: \"2\",\r\n      senderId: \"asdasdasdasdas\",\r\n      secureKey: '',\r\n      secureIv :  '',\r\n      username : ''\r\n    }\r\n    //console.log('MENSAJE PARA EL SOCKET',this.skem)\r\n    this.socket.emit('joinGroup', { msg : this.skem });\r\n\r\n\r\n  \r\n\r\n    this.socket.fromEvent('messageG').subscribe( message => {\r\n      this.socketIn = message;\r\n     // console.log('NEW MESSAGE', this.socketIn);\r\n      if (this.socketIn.msg.senderId !== this.userId) {\r\n       // console.log('NEW MESSAGE', this.socketIn);\r\n\r\n        const msgIn = {\r\n          body: this.socketIn.msg.msg,\r\n          createAt: Date.now(),\r\n          isread: \"0\",\r\n          senderId: this.socketIn.msg.senderId,\r\n          type: this.socketIn.msg.type,\r\n          username: this.socketIn.msg.username,\r\n          _id: \"5f6c52708705a704b4a5159d\"\r\n        }\r\n        this.messages.push( msgIn )\r\n      } else\r\n      {\r\n        const msgIn = {\r\n          body: this.socketIn.msg.msg,\r\n          createAt: Date.now(),\r\n          isread: \"0\",\r\n          senderId: this.socketIn.msg.senderId,\r\n          type: this.socketIn.msg.type,\r\n          username: this.socketIn.msg.username,\r\n          _id: \"5f6c52708705a704b4a5159d\"\r\n        }\r\n        this.messages.push( msgIn )\r\n      }  \r\n      \r\n\r\n      this.scrollToBottomInChat();\r\n    })\r\n\r\n    this.generateSecureKeyAndIV();\r\n    this.getInfoGroup(this.idgroup);\r\n    //this.getMessages(this.idgroup);\r\n\r\n    this.getUsername('5f61e188a23a3346ecac036b');\r\n    \r\n  }\r\n\r\n  getInfoGroup(idgroup) {\r\n    this.groupService.getInfoGroup(idgroup).subscribe(response => {\r\n      this.nameGroup = response.chatGroup[0].groupname;\r\n      console.log('[INFOOOO] XXXXXXXXX', response);\r\n      this.participants = response.chatGroup[0].participants;\r\n      \r\n      \r\n      \r\n    })\r\n  }\r\n\r\n  getMessages(idgroup){\r\n    this.groupService.getMessages(idgroup).subscribe(resp => {\r\n      //console.log('INFO RESPUESTA MENSAJES', resp);\r\n      this.arrmsgs = resp.msg;\r\n      this.messages = this.arrmsgs[0].message;\r\n      \r\n    })\r\n  }\r\n\r\n  sendMessage(){\r\n    let msgInput = this.message;\r\n    this.cipherMessage = this.encrypt(msgInput);\r\n    const msg1 = {\r\n      \"idGroup\" : this.idgroup,\r\n      \"message\" :{\r\n          \"senderId\" :  this.userId,\r\n          \"body\"     :  this.cipherMessage,\r\n          \"type\"     :  \"2\",\r\n          \"secureKey\": this.secureKEY,\r\n          \"secureIv\" :  this.secureIV,\r\n          \"username\" : this.nameUser\r\n      }\r\n  }\r\n  //  console.log('[INFO] MENSAJE : ', msg1);\r\n\r\n    this.skem = {\r\n      convId : this.idgroup,\r\n      msg: this.cipherMessage,\r\n      type: \"2\",\r\n      senderId: this.userId,\r\n      secureKey: this.secureKEY,\r\n      secureIv :  this.secureIV,\r\n      username : this.nameUser\r\n    }\r\n    //console.log('MENSAJE PARA EL SOCKET',this.skem)\r\n    this.socket.emit('joinGroup', { msg : this.skem });\r\n\r\n    this.groupService.postSendMessage( msg1 ).subscribe(resp => {\r\n    //  console.log('[INFO] MENSJAE ENVIADO: ', resp);\r\n    })\r\n\r\n //console.log('[%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%]', this.participants);\r\n\r\n\r\n    this.groupService.getIdNotificationsPar(this.participants).subscribe(res => {\r\n    //  console.log('[IDDDSSSS NOTIFICATIONSSSSSSS]', res);\r\n      this.pa = res.arrNotIds;\r\n      this.pa.map(elem =>{\r\n      //  console.log('ELEMENTO DEL ARREGLO DEL GRUPO', elem);\r\n        this.pushService.sendPushNotificationGroup(elem).subscribe(responsea =>{\r\n         // console.log('RESPUESTA PUSH NOTIFICATION', responsea)\r\n        })\r\n      })\r\n    })\r\n\r\n  //  console.log('[AARRRFFFFFFFF] idparticipantes', this.participants);\r\n\r\n    this.updateUsersGroup(this.idgroup, this.participants);\r\n\r\n    this.message = ''\r\n\r\n  }\r\n\r\n  encrypt(data) {\r\n    this.cipher = AES.encrypt(JSON.stringify(data), this.sh1).toString();\r\n    return this.cipher;\r\n  }\r\n\r\n  async generateSecureKeyAndIV() {\r\n    this.secureKEY = await this.aes256.generateSecureKey(this.skey); // Returns a 32 bytes string\r\n    this.secureIV = await this.aes256.generateSecureIV(this.skey); // Returns a 16 bytes string\r\n  }\r\n\r\n  decrypt(encryptedData) {\r\n    this.decodedMessage = AES.decrypt(encryptedData, this.sh1).toString(utf8);\r\n\r\n    return this.decodedMessage;\r\n  }\r\n\r\n\r\n  getInfoUser(){\r\n    this.storage.get('username').then((result) => {\r\n      this.usernameStorage = result;\r\n\r\n      this.userService.getSekretId(this.usernameStorage).subscribe(response => {\r\n        this.userId = response.user[0].sekretid;\r\n      })\r\n    })\r\n  }\r\n\r\n  getUsername(idUserPart){\r\n    this.userService.getusernameById(idUserPart).subscribe(resp => {\r\n     // console.log('[INFO] RESPUESTA DEL USUARIO aaa',resp.user[0])\r\n     \r\n    })\r\n     let name = '1'\r\n    return name\r\n  }\r\n\r\n  reload() {\r\n    this.show = false;\r\n    setTimeout(() => this.show = true);\r\n  }\r\n\r\n  scrollToBottomInChat() {\r\n    setTimeout(() => {\r\n      if (this.content.scrollToBottom) {\r\n        this.content.scrollToBottom(100);\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n\r\n  captureImage() {\r\n    this.swcamera = 1;\r\n    \r\n    console.log(\"?? Accediendo a la camara\")\r\n    //this.swcamera = 1;\r\n    this.userService.saveStateCamera(this.swcamera);\r\n    let sourceType = this.cameranew.PictureSourceType.CAMERA\r\n    var options: CameraOptions = {\r\n      quality: 50,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true\r\n    };\r\n\r\n    this.cameranew.getPicture(options).then(imagePath => {\r\n      var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\r\n      var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);    \r\n      this.copytoNew(correctPath, currentName);\r\n  \r\n\r\n    });\r\n    this.swcamera = '';\r\n  } //end capture Imnage\r\n\r\n\r\n  async copytoNew(path, namePic) {\r\n  \r\n    let rs;\r\n    let fP;\r\n    fP = path + namePic;\r\n    this.dataResFiles = await this.upImage(fP);\r\n   \r\n\r\n    if (this.dataResFiles === '') {\r\n      setTimeout(() => {\r\n       \r\n        rs = this.dataResFiles.name;\r\n        this.sendMessageImage(this.dataResFiles.name);\r\n      }, 1000);\r\n    } else {\r\n      console.log('paso al ELSE')\r\n      this.sendMessageImage(this.dataResFiles.name);\r\n      rs = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(fP, namePic);\r\n    }\r\n  }  // END COPU TO NEW\r\n\r\n  sendMessageImage(image) {\r\n    let imageRecive = image;\r\n  /*  this.messageBody = {\r\n      message: imageRecive,\r\n      receiverid: this.receiverId,\r\n      senderid: this.senderId,\r\n      type: '2',\r\n      image: imageRecive,\r\n      secureKey: this.secureKEY,\r\n      secureIv: this.secureIV\r\n    }\r\n  */\r\n    const msg1 = {\r\n      \"idGroup\" : this.idgroup,\r\n      \"message\" :{\r\n          \"senderId\" :  this.userId,\r\n          \"body\"     :  imageRecive,\r\n          \"type\"     :  \"3\",  //Image\r\n          \"secureKey\": this.secureKEY,\r\n          \"secureIv\" :  this.secureIV,\r\n          \"username\" : this.nameUser\r\n      }\r\n\r\n  }\r\n\r\n  this.groupService.postSendMessage( msg1 ).subscribe(resp => {\r\n    //console.log('[INFO] MENSJAE ENVIADO: ', resp);\r\n  })\r\n\r\n  this.skem = {\r\n    convId : this.idgroup,\r\n    msg: imageRecive,\r\n    type: \"3\", // Image\r\n    senderId: this.userId,\r\n    secureKey: this.secureKEY,\r\n    secureIv :  this.secureIV,\r\n    username : this.nameUser\r\n  }\r\n\r\n//  console.log('INFO [OBJETO SOCKETS]', this.skem);\r\n  //console.log('MENSAJE PARA EL SOCKET',this.skem)\r\n\r\n  this.groupService.getIdNotificationsPar(this.participants).subscribe(res => {\r\n   // console.log('[IDDDSSSS NOTIFICATIONSSSSSSS]', res);\r\n    this.pa = res.arrNotIds;\r\n    this.pa.map(elem =>{\r\n    //  console.log('ELEMENTO DEL ARREGLO DEL GRUPO', elem);\r\n      this.pushService.sendPushNotificationGroup(elem).subscribe(responsea =>{\r\n      //  console.log('RESPUESTA PUSH NOTIFICATION', responsea)\r\n      })\r\n    })\r\n  })\r\n\r\n\r\n  this.socket.emit('joinGroup', { msg : this.skem });\r\n\r\n  /*  this.participants = {\r\n      senderId: this.messageBody.senderid,\r\n      receiverId: this.messageBody.receiverid\r\n    }\r\n\r\n    this.converationId = this.chatService.getCoversationid(this.participants).subscribe(resConId => {\r\n      console.log('&&&&&&&&&&& :: ->', resConId.idConver, '<- :: &&&&&&&&&&');\r\n      this.skem = {\r\n        convId: resConId.idConver,\r\n        msg: imageRecive,\r\n        type: this.messageBody.type,\r\n        senderId: this.senderId,\r\n        receiverId: this.receiverId,\r\n        audioFile: ''\r\n      }\r\n      this.socket.emit('join', { msg: this.skem });\r\n      //this.messages.push(messageInput);      \r\n    })\r\n    */\r\n\r\n    // this.socket.emit('send-message-image', { text: this.messageBody });\r\n    this.message = '';\r\n\r\n\r\n\r\n   /* this.pushService.sendPushNotification(this.iNU).subscribe(res => {\r\n      //notification send\r\n    })*/\r\n  }\r\n\r\n\r\n  async upImage(file) {\r\n\r\n    let imageSennder = file;\r\n    let resultImageSender;\r\n    if (file != null) {\r\n      //send message was photo     \r\n      resultImageSender = await this.chatService.uploadimage(imageSennder);\r\n    } else {\r\n      this.showToast('se ha encontrado algun error');\r\n    }\r\n    return resultImageSender;\r\n  }\r\n\r\n  async showToast(msg) {\r\n    let toast = await this.toastCtrl.create({\r\n      message: msg,\r\n      position: 'middle',\r\n      duration: 3000\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n  openGallery(imagensend) {\r\n    this.modalCtrl.create({\r\n      component: ImageModalPage,\r\n      componentProps: {\r\n        img: imagensend\r\n      }\r\n    }).then(modal => modal.present());\r\n  }\r\n\r\n  imageGallery() {\r\n    this.swcamera = 1;\r\n    this.userService.saveStateCamera(1);\r\n  //  console.log('[INFO] Paso a la galeria');\r\n\r\n    let sourceType = this.cameranew.PictureSourceType.PHOTOLIBRARY;\r\n    var options: CameraOptions = {\r\n      quality: 50,\r\n      sourceType: sourceType,\r\n      saveToPhotoAlbum: false,\r\n      correctOrientation: true\r\n    };\r\n\r\n    this.cameranew.getPicture(options).then(imagePath => {\r\n      var currentName = imagePath.substr(imagePath.lastIndexOf('/') + 1);\r\n      var correctPath = imagePath.substr(0, imagePath.lastIndexOf('/') + 1);\r\n      //this.copyFileToLocalDir2(correctPath, currentName, this.createFileName());\r\n      //this.copyFileToLocalDir(correctPath, currentName);\r\n      // var pth = window.Ionic.WebView.convertFileSrc(imagePath)\r\n      //console.log('[YYYY]',pth);\r\n      // var tmp = currentName.split('?');\r\n      //currentName = tmp[0];\r\n     // console.log('[INFO New] : ', currentName);\r\n      this.copytoNew2(correctPath, currentName);\r\n     // console.log('CORRECT PATH', correctPath); 2\r\n     // console.log('CURRENT NAME', currentName);\r\n    });\r\n  }\r\n\r\n  async copyFileToLocalDir2(namePath, currentName, newFileName) {\r\n    this.file.copyFile(namePath, currentName, this.file.dataDirectory, newFileName).then(success => {\r\n      this.updateStoredImages(newFileName);\r\n      this.fpath = namePath + currentName;\r\n      this.dataResFiles = this.upImage(this.fpath);\r\n      this.result22 = this.dataResFiles.name;\r\n\r\n      if (this.result22 === '') {\r\n        setTimeout(() => {\r\n          console.log('paso aqui');\r\n          this.result22 = this.dataResFiles.name;\r\n          this.sendMessageImage(this.result22);\r\n        }, 1000);\r\n\r\n\r\n      } else {\r\n\r\n\r\n        console.log('=========paso por el otro')\r\n\r\n        this.sendMessageImage(this.result22);\r\n\r\n        this.file.removeFile(namePath, currentName);\r\n      }\r\n    }, error => {\r\n      //this.presentToast('Error while storing file.');\r\n      console.log('Error while storing file.');\r\n    });\r\n  }\r\n\r\n  async copyFileToLocalDir(fullPath, namePic?) {\r\n   // console.log(\"PASO\");\r\n   // console.log('INGRESA', fullPath, 'name pic', namePic);\r\n    let myPath = fullPath;\r\n    let result;\r\n    let im, ph;\r\n    // Make sure we copy from the right location\r\n    if (fullPath.indexOf('file://') < 0) {\r\n      myPath = 'file://' + fullPath;\r\n     // console.log('//////////////////', myPath);\r\n    }\r\n\r\n    this.dataResFiles = await this.upImage(myPath);\r\n    result = this.dataResFiles.name;\r\n\r\n    if (result === '') {\r\n      setTimeout(() => {\r\n        result = this.dataResFiles.name;\r\n        this.sendMessageImage(result);\r\n      }, 1000);\r\n    } else {\r\n      this.sendMessageImage(result);\r\n      ph = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(ph, namePic);\r\n    }\r\n  }\r\n\r\n  async copytoNew2(path, namePic) {\r\n   // console.log('paso al metodo copiar  nuevo');\r\n    let fP;\r\n    let rs;\r\n    //console.log('PATH', path, 'PICCCCC', namePic);\r\n    fP = path + namePic;\r\n    this.dataResFiles = await this.upImage(fP);\r\n    //console.log('image upload******', this.dataResFiles.name);\r\n\r\n    if (this.dataResFiles === '') {\r\n      setTimeout(() => {\r\n     \r\n        rs = this.dataResFiles.name;\r\n        this.sendMessageImage(this.dataResFiles.name);\r\n      }, 1000);\r\n    } else {\r\n     \r\n      this.sendMessageImage(this.dataResFiles.name);\r\n      rs = 'file:///storage/emulated/0/Pictures/';\r\n      this.file.removeFile(fP, namePic);\r\n    }\r\n  }\r\n\r\n  \r\n  createFileName() {\r\n    var d = new Date(),\r\n      n = d.getTime(),\r\n      newFileName = n + \".jpg\";\r\n    return newFileName;\r\n  }\r\n\r\n  updateStoredImages(name) {\r\n    this.storage.get(STORAGE_KEY).then(images => {\r\n      let arr = JSON.parse(images);\r\n      if (!arr) {\r\n        let newImages = [name];\r\n        this.storage.set(STORAGE_KEY, JSON.stringify(newImages));\r\n      } else {\r\n        arr.push(name);\r\n        this.storage.set(STORAGE_KEY, JSON.stringify(arr));\r\n      }\r\n\r\n      let filePath = this.file.dataDirectory + name;\r\n      let resPath = this.pathForImage(filePath);\r\n\r\n      let newEntry = {\r\n        name: name,\r\n        path: resPath,\r\n        filePath: filePath\r\n      };\r\n\r\n      this.images = [newEntry, ...this.images];\r\n\r\n      //this.ref.detectChanges(); // trigger change detection cycle\r\n    });\r\n  }\r\n\r\n  pathForImage(img) {\r\n    if (img === null) {\r\n      return '';\r\n    } else {\r\n      let converted = this.webview.convertFileSrc(img);\r\n      return converted;\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    console.log(\"Logging out user\");\r\n    this.router.navigate(['/home']);\r\n  }\r\n\r\n\r\n  updateUsersGroup(group, users){\r\n    let arrUpdateUsers = {\r\n      idGroup : group,\r\n      idusers : users\r\n    }\r\n\r\n    this.groupService.postUpdateBadge(arrUpdateUsers).subscribe( rs => {\r\n      //console.log('* [RESPUESTA ACTUALIZACION BADGE]', rs);\r\n    });\r\n\r\n    console.log('[ARREGLO PARA ACTUALIZACION DE BADGETS]', arrUpdateUsers);\r\n  }\r\n\r\n  updateReadMessage(){\r\n\r\n    console.log('**************USER' , this.userId);\r\n    console.log('Group', this.idgroup );\r\n\r\n   const updateBadge = {\r\n    \"userId\" : this.userId,\r\n    \"groupId\" : this.idgroup\r\n   }\r\n\r\n console.log('XXXXXXXXXXXXXXXXXXidGroup' , updateBadge);\r\n   this.groupService.postUpdateRead(updateBadge).subscribe(rrs => {\r\n     console.log('{**INFO--}', rrs)\r\n   })\r\n\r\n  }\r\n\r\n\r\n\r\n}// ENd Class\r\n\r\n"],"sourceRoot":"webpack:///","file":"pages-chat-group-chat-group-module-es5.js"}